{"mappings":"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","sources":["index.js"],"sourcesContent":["/** @fileOverview Javascript cryptography implementation.\n *\n * Crush to remove comments, shorten variable names and\n * generally reduce transmission size.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n\"use strict\";\n/*jslint indent: 2, bitwise: false, nomen: false, plusplus: false, white: false, regexp: false */\n/*global document, window, escape, unescape, module, require, Uint32Array */\n\n/**\n * The Stanford Javascript Crypto Library, top-level namespace.\n * @namespace\n */\nvar sjcl = {\n  /**\n   * Symmetric ciphers.\n   * @namespace\n   */\n  cipher: {},\n\n  /**\n   * Hash functions.  Right now only SHA256 is implemented.\n   * @namespace\n   */\n  hash: {},\n\n  /**\n   * Key exchange functions.  Right now only SRP is implemented.\n   * @namespace\n   */\n  keyexchange: {},\n  \n  /**\n   * Cipher modes of operation.\n   * @namespace\n   */\n  mode: {},\n\n  /**\n   * Miscellaneous.  HMAC and PBKDF2.\n   * @namespace\n   */\n  misc: {},\n  \n  /**\n   * Bit array encoders and decoders.\n   * @namespace\n   *\n   * @description\n   * The members of this namespace are functions which translate between\n   * SJCL's bitArrays and other objects (usually strings).  Because it\n   * isn't always clear which direction is encoding and which is decoding,\n   * the method names are \"fromBits\" and \"toBits\".\n   */\n  codec: {},\n  \n  /**\n   * Exceptions.\n   * @namespace\n   */\n  exception: {\n    /**\n     * Ciphertext is corrupt.\n     * @constructor\n     */\n    corrupt: function(message) {\n      this.toString = function() { return \"CORRUPT: \"+this.message; };\n      this.message = message;\n    },\n    \n    /**\n     * Invalid parameter.\n     * @constructor\n     */\n    invalid: function(message) {\n      this.toString = function() { return \"INVALID: \"+this.message; };\n      this.message = message;\n    },\n    \n    /**\n     * Bug or missing feature in SJCL.\n     * @constructor\n     */\n    bug: function(message) {\n      this.toString = function() { return \"BUG: \"+this.message; };\n      this.message = message;\n    },\n\n    /**\n     * Something isn't ready.\n     * @constructor\n     */\n    notReady: function(message) {\n      this.toString = function() { return \"NOT READY: \"+this.message; };\n      this.message = message;\n    }\n  }\n};\n/** @fileOverview Low-level AES implementation.\n *\n * This file contains a low-level implementation of AES, optimized for\n * size and for efficiency on several browsers.  It is based on\n * OpenSSL's aes_core.c, a public-domain implementation by Vincent\n * Rijmen, Antoon Bosselaers and Paulo Barreto.\n *\n * An older version of this implementation is available in the public\n * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,\n * Stanford University 2008-2010 and BSD-licensed for liability\n * reasons.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Schedule out an AES key for both encryption and decryption.  This\n * is a low-level class.  Use a cipher mode to do bulk encryption.\n *\n * @constructor\n * @param {Array} key The key as an array of 4, 6 or 8 words.\n */\nsjcl.cipher.aes = function (key) {\n  if (!this._tables[0][0][0]) {\n    this._precompute();\n  }\n  \n  var i, j, tmp,\n    encKey, decKey,\n    sbox = this._tables[0][4], decTable = this._tables[1],\n    keyLen = key.length, rcon = 1;\n  \n  if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n    throw new sjcl.exception.invalid(\"invalid aes key size\");\n  }\n  \n  this._key = [encKey = key.slice(0), decKey = []];\n  \n  // schedule encryption keys\n  for (i = keyLen; i < 4 * keyLen + 28; i++) {\n    tmp = encKey[i-1];\n    \n    // apply sbox\n    if (i%keyLen === 0 || (keyLen === 8 && i%keyLen === 4)) {\n      tmp = sbox[tmp>>>24]<<24 ^ sbox[tmp>>16&255]<<16 ^ sbox[tmp>>8&255]<<8 ^ sbox[tmp&255];\n      \n      // shift rows and add rcon\n      if (i%keyLen === 0) {\n        tmp = tmp<<8 ^ tmp>>>24 ^ rcon<<24;\n        rcon = rcon<<1 ^ (rcon>>7)*283;\n      }\n    }\n    \n    encKey[i] = encKey[i-keyLen] ^ tmp;\n  }\n  \n  // schedule decryption keys\n  for (j = 0; i; j++, i--) {\n    tmp = encKey[j&3 ? i : i - 4];\n    if (i<=4 || j<4) {\n      decKey[j] = tmp;\n    } else {\n      decKey[j] = decTable[0][sbox[tmp>>>24      ]] ^\n                  decTable[1][sbox[tmp>>16  & 255]] ^\n                  decTable[2][sbox[tmp>>8   & 255]] ^\n                  decTable[3][sbox[tmp      & 255]];\n    }\n  }\n};\n\nsjcl.cipher.aes.prototype = {\n  // public\n  /* Something like this might appear here eventually\n  name: \"AES\",\n  blockSize: 4,\n  keySizes: [4,6,8],\n  */\n  \n  /**\n   * Encrypt an array of 4 big-endian words.\n   * @param {Array} data The plaintext.\n   * @return {Array} The ciphertext.\n   */\n  encrypt:function (data) { return this._crypt(data,0); },\n  \n  /**\n   * Decrypt an array of 4 big-endian words.\n   * @param {Array} data The ciphertext.\n   * @return {Array} The plaintext.\n   */\n  decrypt:function (data) { return this._crypt(data,1); },\n  \n  /**\n   * The expanded S-box and inverse S-box tables.  These will be computed\n   * on the client so that we don't have to send them down the wire.\n   *\n   * There are two tables, _tables[0] is for encryption and\n   * _tables[1] is for decryption.\n   *\n   * The first 4 sub-tables are the expanded S-box with MixColumns.  The\n   * last (_tables[01][4]) is the S-box itself.\n   *\n   * @private\n   */\n  _tables: [[[],[],[],[],[]],[[],[],[],[],[]]],\n\n  /**\n   * Expand the S-box tables.\n   *\n   * @private\n   */\n  _precompute: function () {\n   var encTable = this._tables[0], decTable = this._tables[1],\n       sbox = encTable[4], sboxInv = decTable[4],\n       i, x, xInv, d=[], th=[], x2, x4, x8, s, tEnc, tDec;\n\n    // Compute double and third tables\n   for (i = 0; i < 256; i++) {\n     th[( d[i] = i<<1 ^ (i>>7)*283 )^i]=i;\n   }\n   \n   for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n     // Compute sbox\n     s = xInv ^ xInv<<1 ^ xInv<<2 ^ xInv<<3 ^ xInv<<4;\n     s = s>>8 ^ s&255 ^ 99;\n     sbox[x] = s;\n     sboxInv[s] = x;\n     \n     // Compute MixColumns\n     x8 = d[x4 = d[x2 = d[x]]];\n     tDec = x8*0x1010101 ^ x4*0x10001 ^ x2*0x101 ^ x*0x1010100;\n     tEnc = d[s]*0x101 ^ s*0x1010100;\n     \n     for (i = 0; i < 4; i++) {\n       encTable[i][x] = tEnc = tEnc<<24 ^ tEnc>>>8;\n       decTable[i][s] = tDec = tDec<<24 ^ tDec>>>8;\n     }\n   }\n   \n   // Compactify.  Considerable speedup on Firefox.\n   for (i = 0; i < 5; i++) {\n     encTable[i] = encTable[i].slice(0);\n     decTable[i] = decTable[i].slice(0);\n   }\n  },\n  \n  /**\n   * Encryption and decryption core.\n   * @param {Array} input Four words to be encrypted or decrypted.\n   * @param dir The direction, 0 for encrypt and 1 for decrypt.\n   * @return {Array} The four encrypted or decrypted words.\n   * @private\n   */\n  _crypt:function (input, dir) {\n    if (input.length !== 4) {\n      throw new sjcl.exception.invalid(\"invalid aes block size\");\n    }\n    \n    var key = this._key[dir],\n        // state variables a,b,c,d are loaded with pre-whitened data\n        a = input[0]           ^ key[0],\n        b = input[dir ? 3 : 1] ^ key[1],\n        c = input[2]           ^ key[2],\n        d = input[dir ? 1 : 3] ^ key[3],\n        a2, b2, c2,\n        \n        nInnerRounds = key.length/4 - 2,\n        i,\n        kIndex = 4,\n        out = [0,0,0,0],\n        table = this._tables[dir],\n        \n        // load up the tables\n        t0    = table[0],\n        t1    = table[1],\n        t2    = table[2],\n        t3    = table[3],\n        sbox  = table[4];\n \n    // Inner rounds.  Cribbed from OpenSSL.\n    for (i = 0; i < nInnerRounds; i++) {\n      a2 = t0[a>>>24] ^ t1[b>>16 & 255] ^ t2[c>>8 & 255] ^ t3[d & 255] ^ key[kIndex];\n      b2 = t0[b>>>24] ^ t1[c>>16 & 255] ^ t2[d>>8 & 255] ^ t3[a & 255] ^ key[kIndex + 1];\n      c2 = t0[c>>>24] ^ t1[d>>16 & 255] ^ t2[a>>8 & 255] ^ t3[b & 255] ^ key[kIndex + 2];\n      d  = t0[d>>>24] ^ t1[a>>16 & 255] ^ t2[b>>8 & 255] ^ t3[c & 255] ^ key[kIndex + 3];\n      kIndex += 4;\n      a=a2; b=b2; c=c2;\n    }\n        \n    // Last round.\n    for (i = 0; i < 4; i++) {\n      out[dir ? 3&-i : i] =\n        sbox[a>>>24      ]<<24 ^ \n        sbox[b>>16  & 255]<<16 ^\n        sbox[c>>8   & 255]<<8  ^\n        sbox[d      & 255]     ^\n        key[kIndex++];\n      a2=a; a=b; b=c; c=d; d=a2;\n    }\n    \n    return out;\n  }\n};\n\n/** @fileOverview Arrays of bits, encoded as arrays of Numbers.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Arrays of bits, encoded as arrays of Numbers.\n * @namespace\n * @description\n * <p>\n * These objects are the currency accepted by SJCL's crypto functions.\n * </p>\n *\n * <p>\n * Most of our crypto primitives operate on arrays of 4-byte words internally,\n * but many of them can take arguments that are not a multiple of 4 bytes.\n * This library encodes arrays of bits (whose size need not be a multiple of 8\n * bits) as arrays of 32-bit words.  The bits are packed, big-endian, into an\n * array of words, 32 bits at a time.  Since the words are double-precision\n * floating point numbers, they fit some extra data.  We use this (in a private,\n * possibly-changing manner) to encode the number of bits actually  present\n * in the last word of the array.\n * </p>\n *\n * <p>\n * Because bitwise ops clear this out-of-band data, these arrays can be passed\n * to ciphers like AES which want arrays of words.\n * </p>\n */\nsjcl.bitArray = {\n  /**\n   * Array slices in units of bits.\n   * @param {bitArray} a The array to slice.\n   * @param {Number} bstart The offset to the start of the slice, in bits.\n   * @param {Number} bend The offset to the end of the slice, in bits.  If this is undefined,\n   * slice until the end of the array.\n   * @return {bitArray} The requested slice.\n   */\n  bitSlice: function (a, bstart, bend) {\n    a = sjcl.bitArray._shiftRight(a.slice(bstart/32), 32 - (bstart & 31)).slice(1);\n    return (bend === undefined) ? a : sjcl.bitArray.clamp(a, bend-bstart);\n  },\n\n  /**\n   * Extract a number packed into a bit array.\n   * @param {bitArray} a The array to slice.\n   * @param {Number} bstart The offset to the start of the slice, in bits.\n   * @param {Number} blength The length of the number to extract.\n   * @return {Number} The requested slice.\n   */\n  extract: function(a, bstart, blength) {\n    // FIXME: this Math.floor is not necessary at all, but for some reason\n    // seems to suppress a bug in the Chromium JIT.\n    var x, sh = Math.floor((-bstart-blength) & 31);\n    if ((bstart + blength - 1 ^ bstart) & -32) {\n      // it crosses a boundary\n      x = (a[bstart/32|0] << (32 - sh)) ^ (a[bstart/32+1|0] >>> sh);\n    } else {\n      // within a single word\n      x = a[bstart/32|0] >>> sh;\n    }\n    return x & ((1<<blength) - 1);\n  },\n\n  /**\n   * Concatenate two bit arrays.\n   * @param {bitArray} a1 The first array.\n   * @param {bitArray} a2 The second array.\n   * @return {bitArray} The concatenation of a1 and a2.\n   */\n  concat: function (a1, a2) {\n    if (a1.length === 0 || a2.length === 0) {\n      return a1.concat(a2);\n    }\n    \n    var last = a1[a1.length-1], shift = sjcl.bitArray.getPartial(last);\n    if (shift === 32) {\n      return a1.concat(a2);\n    } else {\n      return sjcl.bitArray._shiftRight(a2, shift, last|0, a1.slice(0,a1.length-1));\n    }\n  },\n\n  /**\n   * Find the length of an array of bits.\n   * @param {bitArray} a The array.\n   * @return {Number} The length of a, in bits.\n   */\n  bitLength: function (a) {\n    var l = a.length, x;\n    if (l === 0) { return 0; }\n    x = a[l - 1];\n    return (l-1) * 32 + sjcl.bitArray.getPartial(x);\n  },\n\n  /**\n   * Truncate an array.\n   * @param {bitArray} a The array.\n   * @param {Number} len The length to truncate to, in bits.\n   * @return {bitArray} A new array, truncated to len bits.\n   */\n  clamp: function (a, len) {\n    if (a.length * 32 < len) { return a; }\n    a = a.slice(0, Math.ceil(len / 32));\n    var l = a.length;\n    len = len & 31;\n    if (l > 0 && len) {\n      a[l-1] = sjcl.bitArray.partial(len, a[l-1] & 0x80000000 >> (len-1), 1);\n    }\n    return a;\n  },\n\n  /**\n   * Make a partial word for a bit array.\n   * @param {Number} len The number of bits in the word.\n   * @param {Number} x The bits.\n   * @param {Number} [_end=0] Pass 1 if x has already been shifted to the high side.\n   * @return {Number} The partial word.\n   */\n  partial: function (len, x, _end) {\n    if (len === 32) { return x; }\n    return (_end ? x|0 : x << (32-len)) + len * 0x10000000000;\n  },\n\n  /**\n   * Get the number of bits used by a partial word.\n   * @param {Number} x The partial word.\n   * @return {Number} The number of bits used by the partial word.\n   */\n  getPartial: function (x) {\n    return Math.round(x/0x10000000000) || 32;\n  },\n\n  /**\n   * Compare two arrays for equality in a predictable amount of time.\n   * @param {bitArray} a The first array.\n   * @param {bitArray} b The second array.\n   * @return {boolean} true if a == b; false otherwise.\n   */\n  equal: function (a, b) {\n    if (sjcl.bitArray.bitLength(a) !== sjcl.bitArray.bitLength(b)) {\n      return false;\n    }\n    var x = 0, i;\n    for (i=0; i<a.length; i++) {\n      x |= a[i]^b[i];\n    }\n    return (x === 0);\n  },\n\n  /** Shift an array right.\n   * @param {bitArray} a The array to shift.\n   * @param {Number} shift The number of bits to shift.\n   * @param {Number} [carry=0] A byte to carry in\n   * @param {bitArray} [out=[]] An array to prepend to the output.\n   * @private\n   */\n  _shiftRight: function (a, shift, carry, out) {\n    var i, last2=0, shift2;\n    if (out === undefined) { out = []; }\n    \n    for (; shift >= 32; shift -= 32) {\n      out.push(carry);\n      carry = 0;\n    }\n    if (shift === 0) {\n      return out.concat(a);\n    }\n    \n    for (i=0; i<a.length; i++) {\n      out.push(carry | a[i]>>>shift);\n      carry = a[i] << (32-shift);\n    }\n    last2 = a.length ? a[a.length-1] : 0;\n    shift2 = sjcl.bitArray.getPartial(last2);\n    out.push(sjcl.bitArray.partial(shift+shift2 & 31, (shift + shift2 > 32) ? carry : out.pop(),1));\n    return out;\n  },\n  \n  /** xor a block of 4 words together.\n   * @private\n   */\n  _xor4: function(x,y) {\n    return [x[0]^y[0],x[1]^y[1],x[2]^y[2],x[3]^y[3]];\n  },\n\n  /** byteswap a word array inplace.\n   * (does not handle partial words)\n   * @param {sjcl.bitArray} a word array\n   * @return {sjcl.bitArray} byteswapped array\n   */\n  byteswapM: function(a) {\n    var i, v, m = 0xff00;\n    for (i = 0; i < a.length; ++i) {\n      v = a[i];\n      a[i] = (v >>> 24) | ((v >>> 8) & m) | ((v & m) << 8) | (v << 24);\n    }\n    return a;\n  }\n};\n/** @fileOverview Bit array codec implementations.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * UTF-8 strings\n * @namespace\n */\nsjcl.codec.utf8String = {\n  /** Convert from a bitArray to a UTF-8 string. */\n  fromBits: function (arr) {\n    var out = \"\", bl = sjcl.bitArray.bitLength(arr), i, tmp;\n    for (i=0; i<bl/8; i++) {\n      if ((i&3) === 0) {\n        tmp = arr[i/4];\n      }\n      out += String.fromCharCode(tmp >>> 8 >>> 8 >>> 8);\n      tmp <<= 8;\n    }\n    return decodeURIComponent(escape(out));\n  },\n\n  /** Convert from a UTF-8 string to a bitArray. */\n  toBits: function (str) {\n    str = unescape(encodeURIComponent(str));\n    var out = [], i, tmp=0;\n    for (i=0; i<str.length; i++) {\n      tmp = tmp << 8 | str.charCodeAt(i);\n      if ((i&3) === 3) {\n        out.push(tmp);\n        tmp = 0;\n      }\n    }\n    if (i&3) {\n      out.push(sjcl.bitArray.partial(8*(i&3), tmp));\n    }\n    return out;\n  }\n};\n/** @fileOverview Bit array codec implementations.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Hexadecimal\n * @namespace\n */\nsjcl.codec.hex = {\n  /** Convert from a bitArray to a hex string. */\n  fromBits: function (arr) {\n    var out = \"\", i;\n    for (i=0; i<arr.length; i++) {\n      out += ((arr[i]|0)+0xF00000000000).toString(16).substr(4);\n    }\n    return out.substr(0, sjcl.bitArray.bitLength(arr)/4);//.replace(/(.{8})/g, \"$1 \");\n  },\n  /** Convert from a hex string to a bitArray. */\n  toBits: function (str) {\n    var i, out=[], len;\n    str = str.replace(/\\s|0x/g, \"\");\n    len = str.length;\n    str = str + \"00000000\";\n    for (i=0; i<str.length; i+=8) {\n      out.push(parseInt(str.substr(i,8),16)^0);\n    }\n    return sjcl.bitArray.clamp(out, len*4);\n  }\n};\n\n/** @fileOverview Bit array codec implementations.\n *\n * @author Nils Kenneweg\n */\n\n/**\n * Base32 encoding/decoding\n * @namespace\n */\nsjcl.codec.base32 = {\n  /** The base32 alphabet.\n   * @private\n   */\n  _chars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",\n  _hexChars: \"0123456789ABCDEFGHIJKLMNOPQRSTUV\",\n\n  /* bits in an array */\n  BITS: 32,\n  /* base to encode at (2^x) */\n  BASE: 5,\n  /* bits - base */\n  REMAINING: 27,\n\n  /** Convert from a bitArray to a base32 string. */\n  fromBits: function (arr, _noEquals, _hex) {\n    var BITS = sjcl.codec.base32.BITS, BASE = sjcl.codec.base32.BASE, REMAINING = sjcl.codec.base32.REMAINING;\n    var out = \"\", i, bits=0, c = sjcl.codec.base32._chars, ta=0, bl = sjcl.bitArray.bitLength(arr);\n\n    if (_hex) {\n      c = sjcl.codec.base32._hexChars;\n    }\n\n    for (i=0; out.length * BASE < bl; ) {\n      out += c.charAt((ta ^ arr[i]>>>bits) >>> REMAINING);\n      if (bits < BASE) {\n        ta = arr[i] << (BASE-bits);\n        bits += REMAINING;\n        i++;\n      } else {\n        ta <<= BASE;\n        bits -= BASE;\n      }\n    }\n    while ((out.length & 7) && !_noEquals) { out += \"=\"; }\n\n    return out;\n  },\n\n  /** Convert from a base32 string to a bitArray */\n  toBits: function(str, _hex) {\n    str = str.replace(/\\s|=/g,'').toUpperCase();\n    var BITS = sjcl.codec.base32.BITS, BASE = sjcl.codec.base32.BASE, REMAINING = sjcl.codec.base32.REMAINING;\n    var out = [], i, bits=0, c = sjcl.codec.base32._chars, ta=0, x, format=\"base32\";\n\n    if (_hex) {\n      c = sjcl.codec.base32._hexChars;\n      format = \"base32hex\";\n    }\n\n    for (i=0; i<str.length; i++) {\n      x = c.indexOf(str.charAt(i));\n      if (x < 0) {\n        // Invalid character, try hex format\n        if (!_hex) {\n          try {\n            return sjcl.codec.base32hex.toBits(str);\n          }\n          catch (e) {}\n        }\n        throw new sjcl.exception.invalid(\"this isn't \" + format + \"!\");\n      }\n      if (bits > REMAINING) {\n        bits -= REMAINING;\n        out.push(ta ^ x>>>bits);\n        ta  = x << (BITS-bits);\n      } else {\n        bits += BASE;\n        ta ^= x << (BITS-bits);\n      }\n    }\n    if (bits&56) {\n      out.push(sjcl.bitArray.partial(bits&56, ta, 1));\n    }\n    return out;\n  }\n};\n\nsjcl.codec.base32hex = {\n  fromBits: function (arr, _noEquals) { return sjcl.codec.base32.fromBits(arr,_noEquals,1); },\n  toBits: function (str) { return sjcl.codec.base32.toBits(str,1); }\n};\n/** @fileOverview Bit array codec implementations.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Base64 encoding/decoding \n * @namespace\n */\nsjcl.codec.base64 = {\n  /** The base64 alphabet.\n   * @private\n   */\n  _chars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n  \n  /** Convert from a bitArray to a base64 string. */\n  fromBits: function (arr, _noEquals, _url) {\n    var out = \"\", i, bits=0, c = sjcl.codec.base64._chars, ta=0, bl = sjcl.bitArray.bitLength(arr);\n    if (_url) {\n      c = c.substr(0,62) + '-_';\n    }\n    for (i=0; out.length * 6 < bl; ) {\n      out += c.charAt((ta ^ arr[i]>>>bits) >>> 26);\n      if (bits < 6) {\n        ta = arr[i] << (6-bits);\n        bits += 26;\n        i++;\n      } else {\n        ta <<= 6;\n        bits -= 6;\n      }\n    }\n    while ((out.length & 3) && !_noEquals) { out += \"=\"; }\n    return out;\n  },\n  \n  /** Convert from a base64 string to a bitArray */\n  toBits: function(str, _url) {\n    str = str.replace(/\\s|=/g,'');\n    var out = [], i, bits=0, c = sjcl.codec.base64._chars, ta=0, x;\n    if (_url) {\n      c = c.substr(0,62) + '-_';\n    }\n    for (i=0; i<str.length; i++) {\n      x = c.indexOf(str.charAt(i));\n      if (x < 0) {\n        throw new sjcl.exception.invalid(\"this isn't base64!\");\n      }\n      if (bits > 26) {\n        bits -= 26;\n        out.push(ta ^ x>>>bits);\n        ta  = x << (32-bits);\n      } else {\n        bits += 6;\n        ta ^= x << (32-bits);\n      }\n    }\n    if (bits&56) {\n      out.push(sjcl.bitArray.partial(bits&56, ta, 1));\n    }\n    return out;\n  }\n};\n\nsjcl.codec.base64url = {\n  fromBits: function (arr) { return sjcl.codec.base64.fromBits(arr,1,1); },\n  toBits: function (str) { return sjcl.codec.base64.toBits(str,1); }\n};\n/** @fileOverview Javascript SHA-256 implementation.\n *\n * An older version of this implementation is available in the public\n * domain, but this one is (c) Emily Stark, Mike Hamburg, Dan Boneh,\n * Stanford University 2008-2010 and BSD-licensed for liability\n * reasons.\n *\n * Special thanks to Aldo Cortesi for pointing out several bugs in\n * this code.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * Context for a SHA-256 operation in progress.\n * @constructor\n */\nsjcl.hash.sha256 = function (hash) {\n  if (!this._key[0]) { this._precompute(); }\n  if (hash) {\n    this._h = hash._h.slice(0);\n    this._buffer = hash._buffer.slice(0);\n    this._length = hash._length;\n  } else {\n    this.reset();\n  }\n};\n\n/**\n * Hash a string or an array of words.\n * @static\n * @param {bitArray|String} data the data to hash.\n * @return {bitArray} The hash value, an array of 16 big-endian words.\n */\nsjcl.hash.sha256.hash = function (data) {\n  return (new sjcl.hash.sha256()).update(data).finalize();\n};\n\nsjcl.hash.sha256.prototype = {\n  /**\n   * The hash's block size, in bits.\n   * @constant\n   */\n  blockSize: 512,\n   \n  /**\n   * Reset the hash state.\n   * @return this\n   */\n  reset:function () {\n    this._h = this._init.slice(0);\n    this._buffer = [];\n    this._length = 0;\n    return this;\n  },\n  \n  /**\n   * Input several words to the hash.\n   * @param {bitArray|String} data the data to hash.\n   * @return this\n   */\n  update: function (data) {\n    if (typeof data === \"string\") {\n      data = sjcl.codec.utf8String.toBits(data);\n    }\n    var i, b = this._buffer = sjcl.bitArray.concat(this._buffer, data),\n        ol = this._length,\n        nl = this._length = ol + sjcl.bitArray.bitLength(data);\n    if (nl > 9007199254740991){\n      throw new sjcl.exception.invalid(\"Cannot hash more than 2^53 - 1 bits\");\n    }\n\n    if (typeof Uint32Array !== 'undefined') {\n\tvar c = new Uint32Array(b);\n    \tvar j = 0;\n    \tfor (i = 512+ol - ((512+ol) & 511); i <= nl; i+= 512) {\n      \t    this._block(c.subarray(16 * j, 16 * (j+1)));\n      \t    j += 1;\n    \t}\n    \tb.splice(0, 16 * j);\n    } else {\n\tfor (i = 512+ol - ((512+ol) & 511); i <= nl; i+= 512) {\n      \t    this._block(b.splice(0,16));\n      \t}\n    }\n    return this;\n  },\n  \n  /**\n   * Complete hashing and output the hash value.\n   * @return {bitArray} The hash value, an array of 8 big-endian words.\n   */\n  finalize:function () {\n    var i, b = this._buffer, h = this._h;\n\n    // Round out and push the buffer\n    b = sjcl.bitArray.concat(b, [sjcl.bitArray.partial(1,1)]);\n    \n    // Round out the buffer to a multiple of 16 words, less the 2 length words.\n    for (i = b.length + 2; i & 15; i++) {\n      b.push(0);\n    }\n    \n    // append the length\n    b.push(Math.floor(this._length / 0x100000000));\n    b.push(this._length | 0);\n\n    while (b.length) {\n      this._block(b.splice(0,16));\n    }\n\n    this.reset();\n    return h;\n  },\n\n  /**\n   * The SHA-256 initialization vector, to be precomputed.\n   * @private\n   */\n  _init:[],\n  /*\n  _init:[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],\n  */\n  \n  /**\n   * The SHA-256 hash key, to be precomputed.\n   * @private\n   */\n  _key:[],\n  /*\n  _key:\n    [0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n     0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n     0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n     0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n     0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n     0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n     0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n     0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2],\n  */\n\n\n  /**\n   * Function to precompute _init and _key.\n   * @private\n   */\n  _precompute: function () {\n    var i = 0, prime = 2, factor, isPrime;\n\n    function frac(x) { return (x-Math.floor(x)) * 0x100000000 | 0; }\n\n    for (; i<64; prime++) {\n      isPrime = true;\n      for (factor=2; factor*factor <= prime; factor++) {\n        if (prime % factor === 0) {\n          isPrime = false;\n          break;\n        }\n      }\n      if (isPrime) {\n        if (i<8) {\n          this._init[i] = frac(Math.pow(prime, 1/2));\n        }\n        this._key[i] = frac(Math.pow(prime, 1/3));\n        i++;\n      }\n    }\n  },\n  \n  /**\n   * Perform one cycle of SHA-256.\n   * @param {Uint32Array|bitArray} w one block of words.\n   * @private\n   */\n  _block:function (w) {  \n    var i, tmp, a, b,\n      h = this._h,\n      k = this._key,\n      h0 = h[0], h1 = h[1], h2 = h[2], h3 = h[3],\n      h4 = h[4], h5 = h[5], h6 = h[6], h7 = h[7];\n\n    /* Rationale for placement of |0 :\n     * If a value can overflow is original 32 bits by a factor of more than a few\n     * million (2^23 ish), there is a possibility that it might overflow the\n     * 53-bit mantissa and lose precision.\n     *\n     * To avoid this, we clamp back to 32 bits by |'ing with 0 on any value that\n     * propagates around the loop, and on the hash state h[].  I don't believe\n     * that the clamps on h4 and on h0 are strictly necessary, but it's close\n     * (for h4 anyway), and better safe than sorry.\n     *\n     * The clamps on h[] are necessary for the output to be correct even in the\n     * common case and for short inputs.\n     */\n    for (i=0; i<64; i++) {\n      // load up the input word for this round\n      if (i<16) {\n        tmp = w[i];\n      } else {\n        a   = w[(i+1 ) & 15];\n        b   = w[(i+14) & 15];\n        tmp = w[i&15] = ((a>>>7  ^ a>>>18 ^ a>>>3  ^ a<<25 ^ a<<14) + \n                         (b>>>17 ^ b>>>19 ^ b>>>10 ^ b<<15 ^ b<<13) +\n                         w[i&15] + w[(i+9) & 15]) | 0;\n      }\n      \n      tmp = (tmp + h7 + (h4>>>6 ^ h4>>>11 ^ h4>>>25 ^ h4<<26 ^ h4<<21 ^ h4<<7) +  (h6 ^ h4&(h5^h6)) + k[i]); // | 0;\n      \n      // shift register\n      h7 = h6; h6 = h5; h5 = h4;\n      h4 = h3 + tmp | 0;\n      h3 = h2; h2 = h1; h1 = h0;\n\n      h0 = (tmp +  ((h1&h2) ^ (h3&(h1^h2))) + (h1>>>2 ^ h1>>>13 ^ h1>>>22 ^ h1<<30 ^ h1<<19 ^ h1<<10)) | 0;\n    }\n\n    h[0] = h[0]+h0 | 0;\n    h[1] = h[1]+h1 | 0;\n    h[2] = h[2]+h2 | 0;\n    h[3] = h[3]+h3 | 0;\n    h[4] = h[4]+h4 | 0;\n    h[5] = h[5]+h5 | 0;\n    h[6] = h[6]+h6 | 0;\n    h[7] = h[7]+h7 | 0;\n  }\n};\n\n\n/** @fileOverview CCM mode implementation.\n *\n * Special thanks to Roy Nicholson for pointing out a bug in our\n * implementation.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/**\n * CTR mode with CBC MAC.\n * @namespace\n */\nsjcl.mode.ccm = {\n  /** The name of the mode.\n   * @constant\n   */\n  name: \"ccm\",\n  \n  _progressListeners: [],\n\n  listenProgress: function (cb) {\n    sjcl.mode.ccm._progressListeners.push(cb);\n  },\n\n  unListenProgress: function (cb) {\n    var index = sjcl.mode.ccm._progressListeners.indexOf(cb);\n    if (index > -1) {\n      sjcl.mode.ccm._progressListeners.splice(index, 1);\n    }\n  },\n\n  _callProgressListener: function (val) {\n    var p = sjcl.mode.ccm._progressListeners.slice(), i;\n\n    for (i = 0; i < p.length; i += 1) {\n      p[i](val);\n    }\n  },\n\n  /** Encrypt in CCM mode.\n   * @static\n   * @param {Object} prf The pseudorandom function.  It must have a block size of 16 bytes.\n   * @param {bitArray} plaintext The plaintext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} [adata=[]] The authenticated data.\n   * @param {Number} [tlen=64] the desired tag length, in bits.\n   * @return {bitArray} The encrypted data, an array of bytes.\n   */\n  encrypt: function(prf, plaintext, iv, adata, tlen) {\n    var L, out = plaintext.slice(0), tag, w=sjcl.bitArray, ivl = w.bitLength(iv) / 8, ol = w.bitLength(out) / 8;\n    tlen = tlen || 32;\n    adata = adata || [];\n    \n    if (ivl < 7) {\n      throw new sjcl.exception.invalid(\"ccm: iv must be at least 7 bytes\");\n    }\n    \n    // compute the length of the length\n    for (L=2; L<4 && ol >>> 8*L; L++) {}\n    if (L < 15 - ivl) { L = 15-ivl; }\n    iv = w.clamp(iv,8*(15-L));\n    \n    // compute the tag\n    tag = sjcl.mode.ccm._computeTag(prf, plaintext, iv, adata, tlen, L);\n    \n    // encrypt\n    out = sjcl.mode.ccm._ctrMode(prf, out, iv, tag, tlen, L);\n    \n    return w.concat(out.data, out.tag);\n  },\n  \n  /** Decrypt in CCM mode.\n   * @static\n   * @param {Object} prf The pseudorandom function.  It must have a block size of 16 bytes.\n   * @param {bitArray} ciphertext The ciphertext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} [adata=[]] adata The authenticated data.\n   * @param {Number} [tlen=64] tlen the desired tag length, in bits.\n   * @return {bitArray} The decrypted data.\n   */\n  decrypt: function(prf, ciphertext, iv, adata, tlen) {\n    tlen = tlen || 64;\n    adata = adata || [];\n    var L,\n        w=sjcl.bitArray,\n        ivl = w.bitLength(iv) / 8,\n        ol = w.bitLength(ciphertext), \n        out = w.clamp(ciphertext, ol - tlen),\n        tag = w.bitSlice(ciphertext, ol - tlen), tag2;\n    \n\n    ol = (ol - tlen) / 8;\n        \n    if (ivl < 7) {\n      throw new sjcl.exception.invalid(\"ccm: iv must be at least 7 bytes\");\n    }\n    \n    // compute the length of the length\n    for (L=2; L<4 && ol >>> 8*L; L++) {}\n    if (L < 15 - ivl) { L = 15-ivl; }\n    iv = w.clamp(iv,8*(15-L));\n    \n    // decrypt\n    out = sjcl.mode.ccm._ctrMode(prf, out, iv, tag, tlen, L);\n    \n    // check the tag\n    tag2 = sjcl.mode.ccm._computeTag(prf, out.data, iv, adata, tlen, L);\n    if (!w.equal(out.tag, tag2)) {\n      throw new sjcl.exception.corrupt(\"ccm: tag doesn't match\");\n    }\n    \n    return out.data;\n  },\n\n  _macAdditionalData: function (prf, adata, iv, tlen, ol, L) {\n    var mac, tmp, i, macData = [], w=sjcl.bitArray, xor = w._xor4;\n\n    // mac the flags\n    mac = [w.partial(8, (adata.length ? 1<<6 : 0) | (tlen-2) << 2 | L-1)];\n\n    // mac the iv and length\n    mac = w.concat(mac, iv);\n    mac[3] |= ol;\n    mac = prf.encrypt(mac);\n  \n    if (adata.length) {\n      // mac the associated data.  start with its length...\n      tmp = w.bitLength(adata)/8;\n      if (tmp <= 0xFEFF) {\n        macData = [w.partial(16, tmp)];\n      } else if (tmp <= 0xFFFFFFFF) {\n        macData = w.concat([w.partial(16,0xFFFE)], [tmp]);\n      } // else ...\n    \n      // mac the data itself\n      macData = w.concat(macData, adata);\n      for (i=0; i<macData.length; i += 4) {\n        mac = prf.encrypt(xor(mac, macData.slice(i,i+4).concat([0,0,0])));\n      }\n    }\n\n    return mac;\n  },\n\n  /* Compute the (unencrypted) authentication tag, according to the CCM specification\n   * @param {Object} prf The pseudorandom function.\n   * @param {bitArray} plaintext The plaintext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} adata The authenticated data.\n   * @param {Number} tlen the desired tag length, in bits.\n   * @return {bitArray} The tag, but not yet encrypted.\n   * @private\n   */\n  _computeTag: function(prf, plaintext, iv, adata, tlen, L) {\n    // compute B[0]\n    var mac, i, w=sjcl.bitArray, xor = w._xor4;\n\n    tlen /= 8;\n  \n    // check tag length and message length\n    if (tlen % 2 || tlen < 4 || tlen > 16) {\n      throw new sjcl.exception.invalid(\"ccm: invalid tag length\");\n    }\n  \n    if (adata.length > 0xFFFFFFFF || plaintext.length > 0xFFFFFFFF) {\n      // I don't want to deal with extracting high words from doubles.\n      throw new sjcl.exception.bug(\"ccm: can't deal with 4GiB or more data\");\n    }\n\n    mac = sjcl.mode.ccm._macAdditionalData(prf, adata, iv, tlen, w.bitLength(plaintext)/8, L);\n\n    // mac the plaintext\n    for (i=0; i<plaintext.length; i+=4) {\n      mac = prf.encrypt(xor(mac, plaintext.slice(i,i+4).concat([0,0,0])));\n    }\n\n    return w.clamp(mac, tlen * 8);\n  },\n\n  /** CCM CTR mode.\n   * Encrypt or decrypt data and tag with the prf in CCM-style CTR mode.\n   * May mutate its arguments.\n   * @param {Object} prf The PRF.\n   * @param {bitArray} data The data to be encrypted or decrypted.\n   * @param {bitArray} iv The initialization vector.\n   * @param {bitArray} tag The authentication tag.\n   * @param {Number} tlen The length of th etag, in bits.\n   * @param {Number} L The CCM L value.\n   * @return {Object} An object with data and tag, the en/decryption of data and tag values.\n   * @private\n   */\n  _ctrMode: function(prf, data, iv, tag, tlen, L) {\n    var enc, i, w=sjcl.bitArray, xor = w._xor4, ctr, l = data.length, bl=w.bitLength(data), n = l/50, p = n;\n\n    // start the ctr\n    ctr = w.concat([w.partial(8,L-1)],iv).concat([0,0,0]).slice(0,4);\n    \n    // en/decrypt the tag\n    tag = w.bitSlice(xor(tag,prf.encrypt(ctr)), 0, tlen);\n  \n    // en/decrypt the data\n    if (!l) { return {tag:tag, data:[]}; }\n    \n    for (i=0; i<l; i+=4) {\n      if (i > n) {\n        sjcl.mode.ccm._callProgressListener(i/l);\n        n += p;\n      }\n      ctr[3]++;\n      enc = prf.encrypt(ctr);\n      data[i]   ^= enc[0];\n      data[i+1] ^= enc[1];\n      data[i+2] ^= enc[2];\n      data[i+3] ^= enc[3];\n    }\n    return { tag:tag, data:w.clamp(data,bl) };\n  }\n};\n/** @fileOverview OCB 2.0 implementation\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/** \n * Phil Rogaway's Offset CodeBook mode, version 2.0.\n * May be covered by US and international patents.\n *\n * @namespace\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\nsjcl.mode.ocb2 = {\n  /** The name of the mode.\n   * @constant\n   */\n  name: \"ocb2\",\n  \n  /** Encrypt in OCB mode, version 2.0.\n   * @param {Object} prp The block cipher.  It must have a block size of 16 bytes.\n   * @param {bitArray} plaintext The plaintext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} [adata=[]] The authenticated data.\n   * @param {Number} [tlen=64] the desired tag length, in bits.\n   * @param {boolean} [premac=false] true if the authentication data is pre-macced with PMAC.\n   * @return The encrypted data, an array of bytes.\n   * @throws {sjcl.exception.invalid} if the IV isn't exactly 128 bits.\n   */\n  encrypt: function(prp, plaintext, iv, adata, tlen, premac) {\n    if (sjcl.bitArray.bitLength(iv) !== 128) {\n      throw new sjcl.exception.invalid(\"ocb iv must be 128 bits\");\n    }\n    var i,\n        times2 = sjcl.mode.ocb2._times2,\n        w = sjcl.bitArray,\n        xor = w._xor4,\n        checksum = [0,0,0,0],\n        delta = times2(prp.encrypt(iv)),\n        bi, bl,\n        output = [],\n        pad;\n        \n    adata = adata || [];\n    tlen  = tlen || 64;\n  \n    for (i=0; i+4 < plaintext.length; i+=4) {\n      /* Encrypt a non-final block */\n      bi = plaintext.slice(i,i+4);\n      checksum = xor(checksum, bi);\n      output = output.concat(xor(delta,prp.encrypt(xor(delta, bi))));\n      delta = times2(delta);\n    }\n    \n    /* Chop out the final block */\n    bi = plaintext.slice(i);\n    bl = w.bitLength(bi);\n    pad = prp.encrypt(xor(delta,[0,0,0,bl]));\n    bi = w.clamp(xor(bi.concat([0,0,0]),pad), bl);\n    \n    /* Checksum the final block, and finalize the checksum */\n    checksum = xor(checksum,xor(bi.concat([0,0,0]),pad));\n    checksum = prp.encrypt(xor(checksum,xor(delta,times2(delta))));\n    \n    /* MAC the header */\n    if (adata.length) {\n      checksum = xor(checksum, premac ? adata : sjcl.mode.ocb2.pmac(prp, adata));\n    }\n    \n    return output.concat(w.concat(bi, w.clamp(checksum, tlen)));\n  },\n  \n  /** Decrypt in OCB mode.\n   * @param {Object} prp The block cipher.  It must have a block size of 16 bytes.\n   * @param {bitArray} ciphertext The ciphertext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} [adata=[]] The authenticated data.\n   * @param {Number} [tlen=64] the desired tag length, in bits.\n   * @param {boolean} [premac=false] true if the authentication data is pre-macced with PMAC.\n   * @return The decrypted data, an array of bytes.\n   * @throws {sjcl.exception.invalid} if the IV isn't exactly 128 bits.\n   * @throws {sjcl.exception.corrupt} if if the message is corrupt.\n   */\n  decrypt: function(prp, ciphertext, iv, adata, tlen, premac) {\n    if (sjcl.bitArray.bitLength(iv) !== 128) {\n      throw new sjcl.exception.invalid(\"ocb iv must be 128 bits\");\n    }\n    tlen  = tlen || 64;\n    var i,\n        times2 = sjcl.mode.ocb2._times2,\n        w = sjcl.bitArray,\n        xor = w._xor4,\n        checksum = [0,0,0,0],\n        delta = times2(prp.encrypt(iv)),\n        bi, bl,\n        len = sjcl.bitArray.bitLength(ciphertext) - tlen,\n        output = [],\n        pad;\n        \n    adata = adata || [];\n  \n    for (i=0; i+4 < len/32; i+=4) {\n      /* Decrypt a non-final block */\n      bi = xor(delta, prp.decrypt(xor(delta, ciphertext.slice(i,i+4))));\n      checksum = xor(checksum, bi);\n      output = output.concat(bi);\n      delta = times2(delta);\n    }\n    \n    /* Chop out and decrypt the final block */\n    bl = len-i*32;\n    pad = prp.encrypt(xor(delta,[0,0,0,bl]));\n    bi = xor(pad, w.clamp(ciphertext.slice(i),bl).concat([0,0,0]));\n    \n    /* Checksum the final block, and finalize the checksum */\n    checksum = xor(checksum, bi);\n    checksum = prp.encrypt(xor(checksum, xor(delta, times2(delta))));\n    \n    /* MAC the header */\n    if (adata.length) {\n      checksum = xor(checksum, premac ? adata : sjcl.mode.ocb2.pmac(prp, adata));\n    }\n    \n    if (!w.equal(w.clamp(checksum, tlen), w.bitSlice(ciphertext, len))) {\n      throw new sjcl.exception.corrupt(\"ocb: tag doesn't match\");\n    }\n    \n    return output.concat(w.clamp(bi,bl));\n  },\n  \n  /** PMAC authentication for OCB associated data.\n   * @param {Object} prp The block cipher.  It must have a block size of 16 bytes.\n   * @param {bitArray} adata The authenticated data.\n   */\n  pmac: function(prp, adata) {\n    var i,\n        times2 = sjcl.mode.ocb2._times2,\n        w = sjcl.bitArray,\n        xor = w._xor4,\n        checksum = [0,0,0,0],\n        delta = prp.encrypt([0,0,0,0]),\n        bi;\n        \n    delta = xor(delta,times2(times2(delta)));\n \n    for (i=0; i+4<adata.length; i+=4) {\n      delta = times2(delta);\n      checksum = xor(checksum, prp.encrypt(xor(delta, adata.slice(i,i+4))));\n    }\n    \n    bi = adata.slice(i);\n    if (w.bitLength(bi) < 128) {\n      delta = xor(delta,times2(delta));\n      bi = w.concat(bi,[0x80000000|0,0,0,0]);\n    }\n    checksum = xor(checksum, bi);\n    return prp.encrypt(xor(times2(xor(delta,times2(delta))), checksum));\n  },\n  \n  /** Double a block of words, OCB style.\n   * @private\n   */\n  _times2: function(x) {\n    return [x[0]<<1 ^ x[1]>>>31,\n            x[1]<<1 ^ x[2]>>>31,\n            x[2]<<1 ^ x[3]>>>31,\n            x[3]<<1 ^ (x[0]>>>31)*0x87];\n  }\n};\n/** @fileOverview GCM mode implementation.\n *\n * @author Juho Vh-Herttua\n */\n\n/**\n * Galois/Counter mode.\n * @namespace\n */ \nsjcl.mode.gcm = {\n  /**\n   * The name of the mode.\n   * @constant\n   */\n  name: \"gcm\",\n  \n  /** Encrypt in GCM mode.\n   * @static\n   * @param {Object} prf The pseudorandom function.  It must have a block size of 16 bytes.\n   * @param {bitArray} plaintext The plaintext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} [adata=[]] The authenticated data.\n   * @param {Number} [tlen=128] The desired tag length, in bits.\n   * @return {bitArray} The encrypted data, an array of bytes.\n   */\n  encrypt: function (prf, plaintext, iv, adata, tlen) {\n    var out, data = plaintext.slice(0), w=sjcl.bitArray;\n    tlen = tlen || 128;\n    adata = adata || [];\n\n    // encrypt and tag\n    out = sjcl.mode.gcm._ctrMode(true, prf, data, adata, iv, tlen);\n\n    return w.concat(out.data, out.tag);\n  },\n  \n  /** Decrypt in GCM mode.\n   * @static\n   * @param {Object} prf The pseudorandom function.  It must have a block size of 16 bytes.\n   * @param {bitArray} ciphertext The ciphertext data.\n   * @param {bitArray} iv The initialization value.\n   * @param {bitArray} [adata=[]] The authenticated data.\n   * @param {Number} [tlen=128] The desired tag length, in bits.\n   * @return {bitArray} The decrypted data.\n   */\n  decrypt: function (prf, ciphertext, iv, adata, tlen) {\n    var out, data = ciphertext.slice(0), tag, w=sjcl.bitArray, l=w.bitLength(data);\n    tlen = tlen || 128;\n    adata = adata || [];\n\n    // Slice tag out of data\n    if (tlen <= l) {\n      tag = w.bitSlice(data, l-tlen);\n      data = w.bitSlice(data, 0, l-tlen);\n    } else {\n      tag = data;\n      data = [];\n    }\n\n    // decrypt and tag\n    out = sjcl.mode.gcm._ctrMode(false, prf, data, adata, iv, tlen);\n\n    if (!w.equal(out.tag, tag)) {\n      throw new sjcl.exception.corrupt(\"gcm: tag doesn't match\");\n    }\n    return out.data;\n  },\n\n  /* Compute the galois multiplication of X and Y\n   * @private\n   */\n  _galoisMultiply: function (x, y) {\n    var i, j, xi, Zi, Vi, lsb_Vi, w=sjcl.bitArray, xor=w._xor4;\n\n    Zi = [0,0,0,0];\n    Vi = y.slice(0);\n\n    // Block size is 128 bits, run 128 times to get Z_128\n    for (i=0; i<128; i++) {\n      xi = (x[Math.floor(i/32)] & (1 << (31-i%32))) !== 0;\n      if (xi) {\n        // Z_i+1 = Z_i ^ V_i\n        Zi = xor(Zi, Vi);\n      }\n\n      // Store the value of LSB(V_i)\n      lsb_Vi = (Vi[3] & 1) !== 0;\n\n      // V_i+1 = V_i >> 1\n      for (j=3; j>0; j--) {\n        Vi[j] = (Vi[j] >>> 1) | ((Vi[j-1]&1) << 31);\n      }\n      Vi[0] = Vi[0] >>> 1;\n\n      // If LSB(V_i) is 1, V_i+1 = (V_i >> 1) ^ R\n      if (lsb_Vi) {\n        Vi[0] = Vi[0] ^ (0xe1 << 24);\n      }\n    }\n    return Zi;\n  },\n\n  _ghash: function(H, Y0, data) {\n    var Yi, i, l = data.length;\n\n    Yi = Y0.slice(0);\n    for (i=0; i<l; i+=4) {\n      Yi[0] ^= 0xffffffff&data[i];\n      Yi[1] ^= 0xffffffff&data[i+1];\n      Yi[2] ^= 0xffffffff&data[i+2];\n      Yi[3] ^= 0xffffffff&data[i+3];\n      Yi = sjcl.mode.gcm._galoisMultiply(Yi, H);\n    }\n    return Yi;\n  },\n\n  /** GCM CTR mode.\n   * Encrypt or decrypt data and tag with the prf in GCM-style CTR mode.\n   * @param {Boolean} encrypt True if encrypt, false if decrypt.\n   * @param {Object} prf The PRF.\n   * @param {bitArray} data The data to be encrypted or decrypted.\n   * @param {bitArray} iv The initialization vector.\n   * @param {bitArray} adata The associated data to be tagged.\n   * @param {Number} tlen The length of the tag, in bits.\n   */\n  _ctrMode: function(encrypt, prf, data, adata, iv, tlen) {\n    var H, J0, S0, enc, i, ctr, tag, last, l, bl, abl, ivbl, w=sjcl.bitArray;\n\n    // Calculate data lengths\n    l = data.length;\n    bl = w.bitLength(data);\n    abl = w.bitLength(adata);\n    ivbl = w.bitLength(iv);\n\n    // Calculate the parameters\n    H = prf.encrypt([0,0,0,0]);\n    if (ivbl === 96) {\n      J0 = iv.slice(0);\n      J0 = w.concat(J0, [1]);\n    } else {\n      J0 = sjcl.mode.gcm._ghash(H, [0,0,0,0], iv);\n      J0 = sjcl.mode.gcm._ghash(H, J0, [0,0,Math.floor(ivbl/0x100000000),ivbl&0xffffffff]);\n    }\n    S0 = sjcl.mode.gcm._ghash(H, [0,0,0,0], adata);\n\n    // Initialize ctr and tag\n    ctr = J0.slice(0);\n    tag = S0.slice(0);\n\n    // If decrypting, calculate hash\n    if (!encrypt) {\n      tag = sjcl.mode.gcm._ghash(H, S0, data);\n    }\n\n    // Encrypt all the data\n    for (i=0; i<l; i+=4) {\n       ctr[3]++;\n       enc = prf.encrypt(ctr);\n       data[i]   ^= enc[0];\n       data[i+1] ^= enc[1];\n       data[i+2] ^= enc[2];\n       data[i+3] ^= enc[3];\n    }\n    data = w.clamp(data, bl);\n\n    // If encrypting, calculate hash\n    if (encrypt) {\n      tag = sjcl.mode.gcm._ghash(H, S0, data);\n    }\n\n    // Calculate last block from bit lengths, ugly because bitwise operations are 32-bit\n    last = [\n      Math.floor(abl/0x100000000), abl&0xffffffff,\n      Math.floor(bl/0x100000000), bl&0xffffffff\n    ];\n\n    // Calculate the final tag block\n    tag = sjcl.mode.gcm._ghash(H, tag, last);\n    enc = prf.encrypt(J0);\n    tag[0] ^= enc[0];\n    tag[1] ^= enc[1];\n    tag[2] ^= enc[2];\n    tag[3] ^= enc[3];\n\n    return { tag:w.bitSlice(tag, 0, tlen), data:data };\n  }\n};\n/** @fileOverview HMAC implementation.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/** HMAC with the specified hash function.\n * @constructor\n * @param {bitArray} key the key for HMAC.\n * @param {Object} [Hash=sjcl.hash.sha256] The hash function to use.\n */\nsjcl.misc.hmac = function (key, Hash) {\n  this._hash = Hash = Hash || sjcl.hash.sha256;\n  var exKey = [[],[]], i,\n      bs = Hash.prototype.blockSize / 32;\n  this._baseHash = [new Hash(), new Hash()];\n\n  if (key.length > bs) {\n    key = Hash.hash(key);\n  }\n  \n  for (i=0; i<bs; i++) {\n    exKey[0][i] = key[i]^0x36363636;\n    exKey[1][i] = key[i]^0x5C5C5C5C;\n  }\n  \n  this._baseHash[0].update(exKey[0]);\n  this._baseHash[1].update(exKey[1]);\n  this._resultHash = new Hash(this._baseHash[0]);\n};\n\n/** HMAC with the specified hash function.  Also called encrypt since it's a prf.\n * @param {bitArray|String} data The data to mac.\n */\nsjcl.misc.hmac.prototype.encrypt = sjcl.misc.hmac.prototype.mac = function (data) {\n  if (!this._updated) {\n    this.update(data);\n    return this.digest(data);\n  } else {\n    throw new sjcl.exception.invalid(\"encrypt on already updated hmac called!\");\n  }\n};\n\nsjcl.misc.hmac.prototype.reset = function () {\n  this._resultHash = new this._hash(this._baseHash[0]);\n  this._updated = false;\n};\n\nsjcl.misc.hmac.prototype.update = function (data) {\n  this._updated = true;\n  this._resultHash.update(data);\n};\n\nsjcl.misc.hmac.prototype.digest = function () {\n  var w = this._resultHash.finalize(), result = new (this._hash)(this._baseHash[1]).update(w).finalize();\n\n  this.reset();\n\n  return result;\n};\n/** @fileOverview Password-based key-derivation function, version 2.0.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n/** Password-Based Key-Derivation Function, version 2.0.\n *\n * Generate keys from passwords using PBKDF2-HMAC-SHA256.\n *\n * This is the method specified by RSA's PKCS #5 standard.\n *\n * @param {bitArray|String} password  The password.\n * @param {bitArray|String} salt The salt.  Should have lots of entropy.\n * @param {Number} [count=1000] The number of iterations.  Higher numbers make the function slower but more secure.\n * @param {Number} [length] The length of the derived key.  Defaults to the\n                            output size of the hash function.\n * @param {Object} [Prff=sjcl.misc.hmac] The pseudorandom function family.\n * @return {bitArray} the derived key.\n */\nsjcl.misc.pbkdf2 = function (password, salt, count, length, Prff) {\n  count = count || 10000;\n  \n  if (length < 0 || count < 0) {\n    throw new sjcl.exception.invalid(\"invalid params to pbkdf2\");\n  }\n  \n  if (typeof password === \"string\") {\n    password = sjcl.codec.utf8String.toBits(password);\n  }\n  \n  if (typeof salt === \"string\") {\n    salt = sjcl.codec.utf8String.toBits(salt);\n  }\n  \n  Prff = Prff || sjcl.misc.hmac;\n  \n  var prf = new Prff(password),\n      u, ui, i, j, k, out = [], b = sjcl.bitArray;\n\n  for (k = 1; 32 * out.length < (length || 1); k++) {\n    u = ui = prf.encrypt(b.concat(salt,[k]));\n    \n    for (i=1; i<count; i++) {\n      ui = prf.encrypt(ui);\n      for (j=0; j<ui.length; j++) {\n        u[j] ^= ui[j];\n      }\n    }\n    \n    out = out.concat(u);\n  }\n\n  if (length) { out = b.clamp(out, length); }\n\n  return out;\n};\n/** @fileOverview HKDF implementation.\n *\n * @author Steve Thomas\n */\n\n/** HKDF with the specified hash function.\n * @param {bitArray} ikm The input keying material.\n * @param {Number} keyBitLength The output key length, in bits.\n * @param {String|bitArray} salt The salt for HKDF.\n * @param {String|bitArray} info The info for HKDF.\n * @param {Object} [Hash=sjcl.hash.sha256] The hash function to use.\n * @return {bitArray} derived key.\n */\nsjcl.misc.hkdf = function (ikm, keyBitLength, salt, info, Hash) {\n  var hmac, key, i, hashLen, loops, curOut, ret = [];\n\n  Hash = Hash || sjcl.hash.sha256;\n  if (typeof info === \"string\") {\n    info = sjcl.codec.utf8String.toBits(info);\n  }\n  if (typeof salt === \"string\") {\n    salt = sjcl.codec.utf8String.toBits(salt);\n  } else if (!salt) {\n    salt = [];\n  }\n\n  hmac = new sjcl.misc.hmac(salt, Hash);\n  key = hmac.mac(ikm);\n  hashLen = sjcl.bitArray.bitLength(key);\n\n  loops = Math.ceil(keyBitLength / hashLen);\n  if (loops > 255) {\n    throw new sjcl.exception.invalid(\"key bit length is too large for hkdf\");\n  }\n\n  hmac = new sjcl.misc.hmac(key, Hash);\n  curOut = [];\n  for (i = 1; i <= loops; i++) {\n    hmac.update(curOut);\n    hmac.update(info);\n    hmac.update([sjcl.bitArray.partial(8, i)]);\n    curOut = hmac.digest();\n    ret = sjcl.bitArray.concat(ret, curOut);\n  }\n  return sjcl.bitArray.clamp(ret, keyBitLength);\n};\n/** @fileOverview Random number generator.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n * @author Michael Brooks\n * @author Steve Thomas\n */\n\n/** \n * @class Random number generator\n * @description\n * <b>Use sjcl.random as a singleton for this class!</b>\n * <p>\n * This random number generator is a derivative of Ferguson and Schneier's\n * generator Fortuna.  It collects entropy from various events into several\n * pools, implemented by streaming SHA-256 instances.  It differs from\n * ordinary Fortuna in a few ways, though.\n * </p>\n *\n * <p>\n * Most importantly, it has an entropy estimator.  This is present because\n * there is a strong conflict here between making the generator available\n * as soon as possible, and making sure that it doesn't \"run on empty\".\n * In Fortuna, there is a saved state file, and the system is likely to have\n * time to warm up.\n * </p>\n *\n * <p>\n * Second, because users are unlikely to stay on the page for very long,\n * and to speed startup time, the number of pools increases logarithmically:\n * a new pool is created when the previous one is actually used for a reseed.\n * This gives the same asymptotic guarantees as Fortuna, but gives more\n * entropy to early reseeds.\n * </p>\n *\n * <p>\n * The entire mechanism here feels pretty klunky.  Furthermore, there are\n * several improvements that should be made, including support for\n * dedicated cryptographic functions that may be present in some browsers;\n * state files in local storage; cookies containing randomness; etc.  So\n * look for improvements in future versions.\n * </p>\n * @constructor\n */\nsjcl.prng = function(defaultParanoia) {\n  \n  /* private */\n  this._pools                   = [new sjcl.hash.sha256()];\n  this._poolEntropy             = [0];\n  this._reseedCount             = 0;\n  this._robins                  = {};\n  this._eventId                 = 0;\n  \n  this._collectorIds            = {};\n  this._collectorIdNext         = 0;\n  \n  this._strength                = 0;\n  this._poolStrength            = 0;\n  this._nextReseed              = 0;\n  this._key                     = [0,0,0,0,0,0,0,0];\n  this._counter                 = [0,0,0,0];\n  this._cipher                  = undefined;\n  this._defaultParanoia         = defaultParanoia;\n  \n  /* event listener stuff */\n  this._collectorsStarted       = false;\n  this._callbacks               = {progress: {}, seeded: {}};\n  this._callbackI               = 0;\n  \n  /* constants */\n  this._NOT_READY               = 0;\n  this._READY                   = 1;\n  this._REQUIRES_RESEED         = 2;\n\n  this._MAX_WORDS_PER_BURST     = 65536;\n  this._PARANOIA_LEVELS         = [0,48,64,96,128,192,256,384,512,768,1024];\n  this._MILLISECONDS_PER_RESEED = 30000;\n  this._BITS_PER_RESEED         = 80;\n};\n \nsjcl.prng.prototype = {\n  /** Generate several random words, and return them in an array.\n   * A word consists of 32 bits (4 bytes)\n   * @param {Number} nwords The number of words to generate.\n   */\n  randomWords: function (nwords, paranoia) {\n    var out = [], i, readiness = this.isReady(paranoia), g;\n  \n    if (readiness === this._NOT_READY) {\n      throw new sjcl.exception.notReady(\"generator isn't seeded\");\n    } else if (readiness & this._REQUIRES_RESEED) {\n      this._reseedFromPools(!(readiness & this._READY));\n    }\n  \n    for (i=0; i<nwords; i+= 4) {\n      if ((i+1) % this._MAX_WORDS_PER_BURST === 0) {\n        this._gate();\n      }\n   \n      g = this._gen4words();\n      out.push(g[0],g[1],g[2],g[3]);\n    }\n    this._gate();\n  \n    return out.slice(0,nwords);\n  },\n  \n  setDefaultParanoia: function (paranoia, allowZeroParanoia) {\n    if (paranoia === 0 && allowZeroParanoia !== \"Setting paranoia=0 will ruin your security; use it only for testing\") {\n      throw new sjcl.exception.invalid(\"Setting paranoia=0 will ruin your security; use it only for testing\");\n    }\n\n    this._defaultParanoia = paranoia;\n  },\n  \n  /**\n   * Add entropy to the pools.\n   * @param data The entropic value.  Should be a 32-bit integer, array of 32-bit integers, or string\n   * @param {Number} estimatedEntropy The estimated entropy of data, in bits\n   * @param {String} source The source of the entropy, eg \"mouse\"\n   */\n  addEntropy: function (data, estimatedEntropy, source) {\n    source = source || \"user\";\n  \n    var id,\n      i, tmp,\n      t = (new Date()).valueOf(),\n      robin = this._robins[source],\n      oldReady = this.isReady(), err = 0, objName;\n      \n    id = this._collectorIds[source];\n    if (id === undefined) { id = this._collectorIds[source] = this._collectorIdNext ++; }\n      \n    if (robin === undefined) { robin = this._robins[source] = 0; }\n    this._robins[source] = ( this._robins[source] + 1 ) % this._pools.length;\n  \n    switch(typeof(data)) {\n      \n    case \"number\":\n      if (estimatedEntropy === undefined) {\n        estimatedEntropy = 1;\n      }\n      this._pools[robin].update([id,this._eventId++,1,estimatedEntropy,t,1,data|0]);\n      break;\n      \n    case \"object\":\n      objName = Object.prototype.toString.call(data);\n      if (objName === \"[object Uint32Array]\") {\n        tmp = [];\n        for (i = 0; i < data.length; i++) {\n          tmp.push(data[i]);\n        }\n        data = tmp;\n      } else {\n        if (objName !== \"[object Array]\") {\n          err = 1;\n        }\n        for (i=0; i<data.length && !err; i++) {\n          if (typeof(data[i]) !== \"number\") {\n            err = 1;\n          }\n        }\n      }\n      if (!err) {\n        if (estimatedEntropy === undefined) {\n          /* horrible entropy estimator */\n          estimatedEntropy = 0;\n          for (i=0; i<data.length; i++) {\n            tmp= data[i];\n            while (tmp>0) {\n              estimatedEntropy++;\n              tmp = tmp >>> 1;\n            }\n          }\n        }\n        this._pools[robin].update([id,this._eventId++,2,estimatedEntropy,t,data.length].concat(data));\n      }\n      break;\n      \n    case \"string\":\n      if (estimatedEntropy === undefined) {\n       /* English text has just over 1 bit per character of entropy.\n        * But this might be HTML or something, and have far less\n        * entropy than English...  Oh well, let's just say one bit.\n        */\n       estimatedEntropy = data.length;\n      }\n      this._pools[robin].update([id,this._eventId++,3,estimatedEntropy,t,data.length]);\n      this._pools[robin].update(data);\n      break;\n      \n    default:\n      err=1;\n    }\n    if (err) {\n      throw new sjcl.exception.bug(\"random: addEntropy only supports number, array of numbers or string\");\n    }\n  \n    /* record the new strength */\n    this._poolEntropy[robin] += estimatedEntropy;\n    this._poolStrength += estimatedEntropy;\n  \n    /* fire off events */\n    if (oldReady === this._NOT_READY) {\n      if (this.isReady() !== this._NOT_READY) {\n        this._fireEvent(\"seeded\", Math.max(this._strength, this._poolStrength));\n      }\n      this._fireEvent(\"progress\", this.getProgress());\n    }\n  },\n  \n  /** Is the generator ready? */\n  isReady: function (paranoia) {\n    var entropyRequired = this._PARANOIA_LEVELS[ (paranoia !== undefined) ? paranoia : this._defaultParanoia ];\n  \n    if (this._strength && this._strength >= entropyRequired) {\n      return (this._poolEntropy[0] > this._BITS_PER_RESEED && (new Date()).valueOf() > this._nextReseed) ?\n        this._REQUIRES_RESEED | this._READY :\n        this._READY;\n    } else {\n      return (this._poolStrength >= entropyRequired) ?\n        this._REQUIRES_RESEED | this._NOT_READY :\n        this._NOT_READY;\n    }\n  },\n  \n  /** Get the generator's progress toward readiness, as a fraction */\n  getProgress: function (paranoia) {\n    var entropyRequired = this._PARANOIA_LEVELS[ paranoia ? paranoia : this._defaultParanoia ];\n  \n    if (this._strength >= entropyRequired) {\n      return 1.0;\n    } else {\n      return (this._poolStrength > entropyRequired) ?\n        1.0 :\n        this._poolStrength / entropyRequired;\n    }\n  },\n  \n  /** start the built-in entropy collectors */\n  startCollectors: function () {\n    if (this._collectorsStarted) { return; }\n  \n    this._eventListener = {\n      loadTimeCollector: this._bind(this._loadTimeCollector),\n      mouseCollector: this._bind(this._mouseCollector),\n      keyboardCollector: this._bind(this._keyboardCollector),\n      accelerometerCollector: this._bind(this._accelerometerCollector),\n      touchCollector: this._bind(this._touchCollector)\n    };\n\n    if (window.addEventListener) {\n      window.addEventListener(\"load\", this._eventListener.loadTimeCollector, false);\n      window.addEventListener(\"mousemove\", this._eventListener.mouseCollector, false);\n      window.addEventListener(\"keypress\", this._eventListener.keyboardCollector, false);\n      window.addEventListener(\"devicemotion\", this._eventListener.accelerometerCollector, false);\n      window.addEventListener(\"touchmove\", this._eventListener.touchCollector, false);\n    } else if (document.attachEvent) {\n      document.attachEvent(\"onload\", this._eventListener.loadTimeCollector);\n      document.attachEvent(\"onmousemove\", this._eventListener.mouseCollector);\n      document.attachEvent(\"keypress\", this._eventListener.keyboardCollector);\n    } else {\n      throw new sjcl.exception.bug(\"can't attach event\");\n    }\n  \n    this._collectorsStarted = true;\n  },\n  \n  /** stop the built-in entropy collectors */\n  stopCollectors: function () {\n    if (!this._collectorsStarted) { return; }\n  \n    if (window.removeEventListener) {\n      window.removeEventListener(\"load\", this._eventListener.loadTimeCollector, false);\n      window.removeEventListener(\"mousemove\", this._eventListener.mouseCollector, false);\n      window.removeEventListener(\"keypress\", this._eventListener.keyboardCollector, false);\n      window.removeEventListener(\"devicemotion\", this._eventListener.accelerometerCollector, false);\n      window.removeEventListener(\"touchmove\", this._eventListener.touchCollector, false);\n    } else if (document.detachEvent) {\n      document.detachEvent(\"onload\", this._eventListener.loadTimeCollector);\n      document.detachEvent(\"onmousemove\", this._eventListener.mouseCollector);\n      document.detachEvent(\"keypress\", this._eventListener.keyboardCollector);\n    }\n\n    this._collectorsStarted = false;\n  },\n  \n  /* use a cookie to store entropy.\n  useCookie: function (all_cookies) {\n      throw new sjcl.exception.bug(\"random: useCookie is unimplemented\");\n  },*/\n  \n  /** add an event listener for progress or seeded-ness. */\n  addEventListener: function (name, callback) {\n    this._callbacks[name][this._callbackI++] = callback;\n  },\n  \n  /** remove an event listener for progress or seeded-ness */\n  removeEventListener: function (name, cb) {\n    var i, j, cbs=this._callbacks[name], jsTemp=[];\n\n    /* I'm not sure if this is necessary; in C++, iterating over a\n     * collection and modifying it at the same time is a no-no.\n     */\n\n    for (j in cbs) {\n      if (cbs.hasOwnProperty(j) && cbs[j] === cb) {\n        jsTemp.push(j);\n      }\n    }\n\n    for (i=0; i<jsTemp.length; i++) {\n      j = jsTemp[i];\n      delete cbs[j];\n    }\n  },\n  \n  _bind: function (func) {\n    var that = this;\n    return function () {\n      func.apply(that, arguments);\n    };\n  },\n\n  /** Generate 4 random words, no reseed, no gate.\n   * @private\n   */\n  _gen4words: function () {\n    for (var i=0; i<4; i++) {\n      this._counter[i] = this._counter[i]+1 | 0;\n      if (this._counter[i]) { break; }\n    }\n    return this._cipher.encrypt(this._counter);\n  },\n  \n  /* Rekey the AES instance with itself after a request, or every _MAX_WORDS_PER_BURST words.\n   * @private\n   */\n  _gate: function () {\n    this._key = this._gen4words().concat(this._gen4words());\n    this._cipher = new sjcl.cipher.aes(this._key);\n  },\n  \n  /** Reseed the generator with the given words\n   * @private\n   */\n  _reseed: function (seedWords) {\n    this._key = sjcl.hash.sha256.hash(this._key.concat(seedWords));\n    this._cipher = new sjcl.cipher.aes(this._key);\n    for (var i=0; i<4; i++) {\n      this._counter[i] = this._counter[i]+1 | 0;\n      if (this._counter[i]) { break; }\n    }\n  },\n  \n  /** reseed the data from the entropy pools\n   * @param full If set, use all the entropy pools in the reseed.\n   */\n  _reseedFromPools: function (full) {\n    var reseedData = [], strength = 0, i;\n  \n    this._nextReseed = reseedData[0] =\n      (new Date()).valueOf() + this._MILLISECONDS_PER_RESEED;\n    \n    for (i=0; i<16; i++) {\n      /* On some browsers, this is cryptographically random.  So we might\n       * as well toss it in the pot and stir...\n       */\n      reseedData.push(Math.random()*0x100000000|0);\n    }\n    \n    for (i=0; i<this._pools.length; i++) {\n     reseedData = reseedData.concat(this._pools[i].finalize());\n     strength += this._poolEntropy[i];\n     this._poolEntropy[i] = 0;\n   \n     if (!full && (this._reseedCount & (1<<i))) { break; }\n    }\n  \n    /* if we used the last pool, push a new one onto the stack */\n    if (this._reseedCount >= 1 << this._pools.length) {\n     this._pools.push(new sjcl.hash.sha256());\n     this._poolEntropy.push(0);\n    }\n  \n    /* how strong was this reseed? */\n    this._poolStrength -= strength;\n    if (strength > this._strength) {\n      this._strength = strength;\n    }\n  \n    this._reseedCount ++;\n    this._reseed(reseedData);\n  },\n  \n  _keyboardCollector: function () {\n    this._addCurrentTimeToEntropy(1);\n  },\n  \n  _mouseCollector: function (ev) {\n    var x, y;\n\n    try {\n      x = ev.x || ev.clientX || ev.offsetX || 0;\n      y = ev.y || ev.clientY || ev.offsetY || 0;\n    } catch (err) {\n      // Event originated from a secure element. No mouse position available.\n      x = 0;\n      y = 0;\n    }\n\n    if (x != 0 && y!= 0) {\n      this.addEntropy([x,y], 2, \"mouse\");\n    }\n\n    this._addCurrentTimeToEntropy(0);\n  },\n\n  _touchCollector: function(ev) {\n    var touch = ev.touches[0] || ev.changedTouches[0];\n    var x = touch.pageX || touch.clientX,\n        y = touch.pageY || touch.clientY;\n\n    this.addEntropy([x,y],1,\"touch\");\n\n    this._addCurrentTimeToEntropy(0);\n  },\n  \n  _loadTimeCollector: function () {\n    this._addCurrentTimeToEntropy(2);\n  },\n\n  _addCurrentTimeToEntropy: function (estimatedEntropy) {\n    if (typeof window !== 'undefined' && window.performance && typeof window.performance.now === \"function\") {\n      //how much entropy do we want to add here?\n      this.addEntropy(window.performance.now(), estimatedEntropy, \"loadtime\");\n    } else {\n      this.addEntropy((new Date()).valueOf(), estimatedEntropy, \"loadtime\");\n    }\n  },\n  _accelerometerCollector: function (ev) {\n    var ac = ev.accelerationIncludingGravity.x||ev.accelerationIncludingGravity.y||ev.accelerationIncludingGravity.z;\n    if(window.orientation){\n      var or = window.orientation;\n      if (typeof or === \"number\") {\n        this.addEntropy(or, 1, \"accelerometer\");\n      }\n    }\n    if (ac) {\n      this.addEntropy(ac, 2, \"accelerometer\");\n    }\n    this._addCurrentTimeToEntropy(0);\n  },\n\n  _fireEvent: function (name, arg) {\n    var j, cbs=sjcl.random._callbacks[name], cbsTemp=[];\n    /* TODO: there is a race condition between removing collectors and firing them */\n\n    /* I'm not sure if this is necessary; in C++, iterating over a\n     * collection and modifying it at the same time is a no-no.\n     */\n\n    for (j in cbs) {\n      if (cbs.hasOwnProperty(j)) {\n        cbsTemp.push(cbs[j]);\n      }\n    }\n\n    for (j=0; j<cbsTemp.length; j++) {\n      cbsTemp[j](arg);\n    }\n  }\n};\n\n/** an instance for the prng.\n* @see sjcl.prng\n*/\nsjcl.random = new sjcl.prng(6);\n\n// (function(){\n//   // function for getting nodejs crypto module. catches and ignores errors.\n//   function getCryptoModule() {\n//     try {\n//       return require('crypto');\n//     }\n//     catch (e) {\n//       return null;\n//     }\n//   }\n\n//   try {\n//     var buf, crypt, ab;\n\n//     // get cryptographically strong entropy depending on runtime environment\n//     if (typeof module !== 'undefined' && module.exports && (crypt = getCryptoModule()) && crypt.randomBytes) {\n//       buf = crypt.randomBytes(1024/8);\n//       buf = new Uint32Array(new Uint8Array(buf).buffer);\n//       sjcl.random.addEntropy(buf, 1024, \"crypto.randomBytes\");\n\n//     } else if (typeof window !== 'undefined' && typeof Uint32Array !== 'undefined') {\n//       ab = new Uint32Array(32);\n//       if (window.crypto && window.crypto.getRandomValues) {\n//         window.crypto.getRandomValues(ab);\n//       } else if (window.msCrypto && window.msCrypto.getRandomValues) {\n//         window.msCrypto.getRandomValues(ab);\n//       } else {\n//         return;\n//       }\n\n//       // get cryptographically strong entropy in Webkit\n//       sjcl.random.addEntropy(ab, 1024, \"crypto.getRandomValues\");\n\n//     } else {\n//       // no getRandomValues :-(\n//     }\n//   } catch (e) {\n//     if (typeof window !== 'undefined' && window.console) {\n//       console.log(\"There was an error collecting entropy from the browser:\");\n//       console.log(e);\n//       //we do not want the library to fail due to randomness not being maintained.\n//     }\n//   }\n// }());\n/** @fileOverview Convenience functions centered around JSON encapsulation.\n *\n * @author Emily Stark\n * @author Mike Hamburg\n * @author Dan Boneh\n */\n\n /**\n  * JSON encapsulation\n  * @namespace\n  */\n sjcl.json = {\n  /** Default values for encryption */\n  defaults: { v:1, iter:10000, ks:128, ts:64, mode:\"ccm\", adata:\"\", cipher:\"aes\" },\n\n  /** Simple encryption function.\n   * @param {String|bitArray} password The password or key.\n   * @param {String} plaintext The data to encrypt.\n   * @param {Object} [params] The parameters including tag, iv and salt.\n   * @param {Object} [rp] A returned version with filled-in parameters.\n   * @return {Object} The cipher raw data.\n   * @throws {sjcl.exception.invalid} if a parameter is invalid.\n   */\n  _encrypt: function (password, plaintext, params, rp) {\n    params = params || {};\n    rp = rp || {};\n\n    var j = sjcl.json, p = j._add({ iv: sjcl.random.randomWords(4,0) },\n                                  j.defaults), tmp, prp, adata;\n    j._add(p, params);\n    adata = p.adata;\n    if (typeof p.salt === \"string\") {\n      p.salt = sjcl.codec.base64.toBits(p.salt);\n    }\n    if (typeof p.iv === \"string\") {\n      p.iv = sjcl.codec.base64.toBits(p.iv);\n    }\n\n    if (!sjcl.mode[p.mode] ||\n        !sjcl.cipher[p.cipher] ||\n        (typeof password === \"string\" && p.iter <= 100) ||\n        (p.ts !== 64 && p.ts !== 96 && p.ts !== 128) ||\n        (p.ks !== 128 && p.ks !== 192 && p.ks !== 256) ||\n        (p.iv.length < 2 || p.iv.length > 4)) {\n      throw new sjcl.exception.invalid(\"json encrypt: invalid parameters\");\n    }\n\n    if (typeof password === \"string\") {\n      tmp = sjcl.misc.cachedPbkdf2(password, p);\n      password = tmp.key.slice(0,p.ks/32);\n      p.salt = tmp.salt;\n    } else if (sjcl.ecc && password instanceof sjcl.ecc.elGamal.publicKey) {\n      tmp = password.kem();\n      p.kemtag = tmp.tag;\n      password = tmp.key.slice(0,p.ks/32);\n    }\n    if (typeof plaintext === \"string\") {\n      plaintext = sjcl.codec.utf8String.toBits(plaintext);\n    }\n    if (typeof adata === \"string\") {\n      p.adata = adata = sjcl.codec.utf8String.toBits(adata);\n    }\n    prp = new sjcl.cipher[p.cipher](password);\n\n    /* return the json data */\n    j._add(rp, p);\n    rp.key = password;\n\n    /* do the encryption */\n    if (p.mode === \"ccm\" && sjcl.arrayBuffer && sjcl.arrayBuffer.ccm && plaintext instanceof ArrayBuffer) {\n      p.ct = sjcl.arrayBuffer.ccm.encrypt(prp, plaintext, p.iv, adata, p.ts);\n    } else {\n      p.ct = sjcl.mode[p.mode].encrypt(prp, plaintext, p.iv, adata, p.ts);\n    }\n\n    //return j.encode(j._subtract(p, j.defaults));\n    return p;\n  },\n\n  /** Simple encryption function.\n   * @param {String|bitArray} password The password or key.\n   * @param {String} plaintext The data to encrypt.\n   * @param {Object} [params] The parameters including tag, iv and salt.\n   * @param {Object} [rp] A returned version with filled-in parameters.\n   * @return {String} The ciphertext serialized data.\n   * @throws {sjcl.exception.invalid} if a parameter is invalid.\n   */\n  encrypt: function (password, plaintext, params, rp) {\n    var j = sjcl.json, p = j._encrypt.apply(j, arguments);\n    return j.encode(p);\n  },\n\n  /** Simple decryption function.\n   * @param {String|bitArray} password The password or key.\n   * @param {Object} ciphertext The cipher raw data to decrypt.\n   * @param {Object} [params] Additional non-default parameters.\n   * @param {Object} [rp] A returned object with filled parameters.\n   * @return {String} The plaintext.\n   * @throws {sjcl.exception.invalid} if a parameter is invalid.\n   * @throws {sjcl.exception.corrupt} if the ciphertext is corrupt.\n   */\n  _decrypt: function (password, ciphertext, params, rp) {\n    params = params || {};\n    rp = rp || {};\n\n    var j = sjcl.json, p = j._add(j._add(j._add({},j.defaults),ciphertext), params, true), ct, tmp, prp, adata=p.adata;\n    if (typeof p.salt === \"string\") {\n      p.salt = sjcl.codec.base64.toBits(p.salt);\n    }\n    if (typeof p.iv === \"string\") {\n      p.iv = sjcl.codec.base64.toBits(p.iv);\n    }\n\n    if (!sjcl.mode[p.mode] ||\n        !sjcl.cipher[p.cipher] ||\n        (typeof password === \"string\" && p.iter <= 100) ||\n        (p.ts !== 64 && p.ts !== 96 && p.ts !== 128) ||\n        (p.ks !== 128 && p.ks !== 192 && p.ks !== 256) ||\n        (!p.iv) ||\n        (p.iv.length < 2 || p.iv.length > 4)) {\n      throw new sjcl.exception.invalid(\"json decrypt: invalid parameters\");\n    }\n\n    if (typeof password === \"string\") {\n      tmp = sjcl.misc.cachedPbkdf2(password, p);\n      password = tmp.key.slice(0,p.ks/32);\n      p.salt  = tmp.salt;\n    } else if (sjcl.ecc && password instanceof sjcl.ecc.elGamal.secretKey) {\n      password = password.unkem(sjcl.codec.base64.toBits(p.kemtag)).slice(0,p.ks/32);\n    }\n    if (typeof adata === \"string\") {\n      adata = sjcl.codec.utf8String.toBits(adata);\n    }\n    prp = new sjcl.cipher[p.cipher](password);\n\n    /* do the decryption */\n    if (p.mode === \"ccm\" && sjcl.arrayBuffer && sjcl.arrayBuffer.ccm && p.ct instanceof ArrayBuffer) {\n      ct = sjcl.arrayBuffer.ccm.decrypt(prp, p.ct, p.iv, p.tag, adata, p.ts);\n    } else {\n      ct = sjcl.mode[p.mode].decrypt(prp, p.ct, p.iv, adata, p.ts);\n    }\n\n    /* return the json data */\n    j._add(rp, p);\n    rp.key = password;\n\n    if (params.raw === 1) {\n      return ct;\n    } else {\n      return sjcl.codec.utf8String.fromBits(ct);\n    }\n  },\n\n  /** Simple decryption function.\n   * @param {String|bitArray} password The password or key.\n   * @param {String} ciphertext The ciphertext to decrypt.\n   * @param {Object} [params] Additional non-default parameters.\n   * @param {Object} [rp] A returned object with filled parameters.\n   * @return {String} The plaintext.\n   * @throws {sjcl.exception.invalid} if a parameter is invalid.\n   * @throws {sjcl.exception.corrupt} if the ciphertext is corrupt.\n   */\n  decrypt: function (password, ciphertext, params, rp) {\n    var j = sjcl.json;\n    return j._decrypt(password, j.decode(ciphertext), params, rp);\n  },\n\n  /** Encode a flat structure into a JSON string.\n   * @param {Object} obj The structure to encode.\n   * @return {String} A JSON string.\n   * @throws {sjcl.exception.invalid} if obj has a non-alphanumeric property.\n   * @throws {sjcl.exception.bug} if a parameter has an unsupported type.\n   */\n  encode: function (obj) {\n    var i, out='{', comma='';\n    for (i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        if (!i.match(/^[a-z0-9]+$/i)) {\n          throw new sjcl.exception.invalid(\"json encode: invalid property name\");\n        }\n        out += comma + '\"' + i + '\":';\n        comma = ',';\n\n        switch (typeof obj[i]) {\n          case 'number':\n          case 'boolean':\n            out += obj[i];\n            break;\n\n          case 'string':\n            out += '\"' + escape(obj[i]) + '\"';\n            break;\n\n          case 'object':\n            out += '\"' + sjcl.codec.base64.fromBits(obj[i],0) + '\"';\n            break;\n\n          default:\n            throw new sjcl.exception.bug(\"json encode: unsupported type\");\n        }\n      }\n    }\n    return out+'}';\n  },\n\n  /** Decode a simple (flat) JSON string into a structure.  The ciphertext,\n   * adata, salt and iv will be base64-decoded.\n   * @param {String} str The string.\n   * @return {Object} The decoded structure.\n   * @throws {sjcl.exception.invalid} if str isn't (simple) JSON.\n   */\n  decode: function (str) {\n    str = str.replace(/\\s/g,'');\n    if (!str.match(/^\\{.*\\}$/)) {\n      throw new sjcl.exception.invalid(\"json decode: this isn't json!\");\n    }\n    var a = str.replace(/^\\{|\\}$/g, '').split(/,/), out={}, i, m;\n    for (i=0; i<a.length; i++) {\n      if (!(m=a[i].match(/^\\s*(?:([\"']?)([a-z][a-z0-9]*)\\1)\\s*:\\s*(?:(-?\\d+)|\"([a-z0-9+\\/%*_.@=\\-]*)\"|(true|false))$/i))) {\n        throw new sjcl.exception.invalid(\"json decode: this isn't json!\");\n      }\n      if (m[3] != null) {\n        out[m[2]] = parseInt(m[3],10);\n      } else if (m[4] != null) {\n        out[m[2]] = m[2].match(/^(ct|adata|salt|iv)$/) ? sjcl.codec.base64.toBits(m[4]) : unescape(m[4]);\n      } else if (m[5] != null) {\n        out[m[2]] = m[5] === 'true';\n      }\n    }\n    return out;\n  },\n\n  /** Insert all elements of src into target, modifying and returning target.\n   * @param {Object} target The object to be modified.\n   * @param {Object} src The object to pull data from.\n   * @param {boolean} [requireSame=false] If true, throw an exception if any field of target differs from corresponding field of src.\n   * @return {Object} target.\n   * @private\n   */\n  _add: function (target, src, requireSame) {\n    if (target === undefined) { target = {}; }\n    if (src === undefined) { return target; }\n    var i;\n    for (i in src) {\n      if (src.hasOwnProperty(i)) {\n        if (requireSame && target[i] !== undefined && target[i] !== src[i]) {\n          throw new sjcl.exception.invalid(\"required parameter overridden\");\n        }\n        target[i] = src[i];\n      }\n    }\n    return target;\n  },\n\n  /** Remove all elements of minus from plus.  Does not modify plus.\n   * @private\n   */\n  _subtract: function (plus, minus) {\n    var out = {}, i;\n\n    for (i in plus) {\n      if (plus.hasOwnProperty(i) && plus[i] !== minus[i]) {\n        out[i] = plus[i];\n      }\n    }\n\n    return out;\n  },\n\n  /** Return only the specified elements of src.\n   * @private\n   */\n  _filter: function (src, filter) {\n    var out = {}, i;\n    for (i=0; i<filter.length; i++) {\n      if (src[filter[i]] !== undefined) {\n        out[filter[i]] = src[filter[i]];\n      }\n    }\n    return out;\n  }\n};\n\n/** Simple encryption function; convenient shorthand for sjcl.json.encrypt.\n * @param {String|bitArray} password The password or key.\n * @param {String} plaintext The data to encrypt.\n * @param {Object} [params] The parameters including tag, iv and salt.\n * @param {Object} [rp] A returned version with filled-in parameters.\n * @return {String} The ciphertext.\n */\nsjcl.encrypt = sjcl.json.encrypt;\n\n/** Simple decryption function; convenient shorthand for sjcl.json.decrypt.\n * @param {String|bitArray} password The password or key.\n * @param {String} ciphertext The ciphertext to decrypt.\n * @param {Object} [params] Additional non-default parameters.\n * @param {Object} [rp] A returned object with filled parameters.\n * @return {String} The plaintext.\n */\nsjcl.decrypt = sjcl.json.decrypt;\n\n/** The cache for cachedPbkdf2.\n * @private\n */\nsjcl.misc._pbkdf2Cache = {};\n\n/** Cached PBKDF2 key derivation.\n * @param {String} password The password.\n * @param {Object} [obj] The derivation params (iteration count and optional salt).\n * @return {Object} The derived data in key, the salt in salt.\n */\nsjcl.misc.cachedPbkdf2 = function (password, obj) {\n  var cache = sjcl.misc._pbkdf2Cache, c, cp, str, salt, iter;\n\n  obj = obj || {};\n  iter = obj.iter || 1000;\n\n  /* open the cache for this password and iteration count */\n  cp = cache[password] = cache[password] || {};\n  c = cp[iter] = cp[iter] || { firstSalt: (obj.salt && obj.salt.length) ?\n                     obj.salt.slice(0) : sjcl.random.randomWords(2,0) };\n\n  salt = (obj.salt === undefined) ? c.firstSalt : obj.salt;\n\n  c[salt] = c[salt] || sjcl.misc.pbkdf2(password, salt, obj.iter);\n  return { key: c[salt].slice(0), salt:salt.slice(0) };\n};\nif(typeof module !== 'undefined' && module.exports){\n  module.exports = sjcl;\n}\nif (typeof define === \"function\") {\n    define([], function () {\n        return sjcl;\n    });\n}\n// Thanks to Colin McRae and Jonathan Burns of ionic security\n// for reporting and fixing two bugs in this file!\n\n/**\n * Constructs a new bignum from another bignum, a number or a hex string.\n * @constructor\n */\nsjcl.bn = function(it) {\n  this.initWith(it);\n};\n\nsjcl.bn.prototype = {\n  radix: 24,\n  maxMul: 8,\n  _class: sjcl.bn,\n\n  copy: function() {\n    return new this._class(this);\n  },\n\n  /**\n   * Initializes this with it, either as a bn, a number, or a hex string.\n   */\n  initWith: function(it) {\n    var i=0, k;\n    switch(typeof it) {\n    case \"object\":\n      this.limbs = it.limbs.slice(0);\n      break;\n\n    case \"number\":\n      this.limbs = [it];\n      this.normalize();\n      break;\n\n    case \"string\":\n      it = it.replace(/^0x/, '');\n      this.limbs = [];\n      // hack\n      k = this.radix / 4;\n      for (i=0; i < it.length; i+=k) {\n        this.limbs.push(parseInt(it.substring(Math.max(it.length - i - k, 0), it.length - i),16));\n      }\n      break;\n\n    default:\n      this.limbs = [0];\n    }\n    return this;\n  },\n\n  /**\n   * Returns true if \"this\" and \"that\" are equal.  Calls fullReduce().\n   * Equality test is in constant time.\n   */\n  equals: function(that) {\n    if (typeof that === \"number\") { that = new this._class(that); }\n    var difference = 0, i;\n    this.fullReduce();\n    that.fullReduce();\n    for (i = 0; i < this.limbs.length || i < that.limbs.length; i++) {\n      difference |= this.getLimb(i) ^ that.getLimb(i);\n    }\n    return (difference === 0);\n  },\n\n  /**\n   * Get the i'th limb of this, zero if i is too large.\n   */\n  getLimb: function(i) {\n    return (i >= this.limbs.length) ? 0 : this.limbs[i];\n  },\n\n  /**\n   * Constant time comparison function.\n   * Returns 1 if this >= that, or zero otherwise.\n   */\n  greaterEquals: function(that) {\n    if (typeof that === \"number\") { that = new this._class(that); }\n    var less = 0, greater = 0, i, a, b;\n    i = Math.max(this.limbs.length, that.limbs.length) - 1;\n    for (; i>= 0; i--) {\n      a = this.getLimb(i);\n      b = that.getLimb(i);\n      greater |= (b - a) & ~less;\n      less |= (a - b) & ~greater;\n    }\n    return (greater | ~less) >>> 31;\n  },\n\n  /**\n   * Convert to a hex string.\n   */\n  toString: function() {\n    this.fullReduce();\n    var out=\"\", i, s, l = this.limbs;\n    for (i=0; i < this.limbs.length; i++) {\n      s = l[i].toString(16);\n      while (i < this.limbs.length - 1 && s.length < 6) {\n        s = \"0\" + s;\n      }\n      out = s + out;\n    }\n    return \"0x\"+out;\n  },\n\n  /** this += that.  Does not normalize. */\n  addM: function(that) {\n    if (typeof(that) !== \"object\") { that = new this._class(that); }\n    var i, l=this.limbs, ll=that.limbs;\n    for (i=l.length; i<ll.length; i++) {\n      l[i] = 0;\n    }\n    for (i=0; i<ll.length; i++) {\n      l[i] += ll[i];\n    }\n    return this;\n  },\n\n  /** this *= 2.  Requires normalized; ends up normalized. */\n  doubleM: function() {\n    var i, carry=0, tmp, r=this.radix, m=this.radixMask, l=this.limbs;\n    for (i=0; i<l.length; i++) {\n      tmp = l[i];\n      tmp = tmp+tmp+carry;\n      l[i] = tmp & m;\n      carry = tmp >> r;\n    }\n    if (carry) {\n      l.push(carry);\n    }\n    return this;\n  },\n\n  /** this /= 2, rounded down.  Requires normalized; ends up normalized. */\n  halveM: function() {\n    var i, carry=0, tmp, r=this.radix, l=this.limbs;\n    for (i=l.length-1; i>=0; i--) {\n      tmp = l[i];\n      l[i] = (tmp+carry)>>1;\n      carry = (tmp&1) << r;\n    }\n    if (!l[l.length-1]) {\n      l.pop();\n    }\n    return this;\n  },\n\n  /** this -= that.  Does not normalize. */\n  subM: function(that) {\n    if (typeof(that) !== \"object\") { that = new this._class(that); }\n    var i, l=this.limbs, ll=that.limbs;\n    for (i=l.length; i<ll.length; i++) {\n      l[i] = 0;\n    }\n    for (i=0; i<ll.length; i++) {\n      l[i] -= ll[i];\n    }\n    return this;\n  },\n\n  mod: function(that) {\n    var neg = !this.greaterEquals(new sjcl.bn(0));\n\n    that = new sjcl.bn(that).normalize(); // copy before we begin\n    var out = new sjcl.bn(this).normalize(), ci=0;\n\n    if (neg) out = (new sjcl.bn(0)).subM(out).normalize();\n\n    for (; out.greaterEquals(that); ci++) {\n      that.doubleM();\n    }\n\n    if (neg) out = that.sub(out).normalize();\n\n    for (; ci > 0; ci--) {\n      that.halveM();\n      if (out.greaterEquals(that)) {\n        out.subM(that).normalize();\n      }\n    }\n    return out.trim();\n  },\n\n  /** return inverse mod prime p.  p must be odd. Binary extended Euclidean algorithm mod p. */\n  inverseMod: function(p) {\n    var a = new sjcl.bn(1), b = new sjcl.bn(0), x = new sjcl.bn(this), y = new sjcl.bn(p), tmp, i, nz=1;\n\n    if (!(p.limbs[0] & 1)) {\n      throw (new sjcl.exception.invalid(\"inverseMod: p must be odd\"));\n    }\n\n    // invariant: y is odd\n    do {\n      if (x.limbs[0] & 1) {\n        if (!x.greaterEquals(y)) {\n          // x < y; swap everything\n          tmp = x; x = y; y = tmp;\n          tmp = a; a = b; b = tmp;\n        }\n        x.subM(y);\n        x.normalize();\n\n        if (!a.greaterEquals(b)) {\n          a.addM(p);\n        }\n        a.subM(b);\n      }\n\n      // cut everything in half\n      x.halveM();\n      if (a.limbs[0] & 1) {\n        a.addM(p);\n      }\n      a.normalize();\n      a.halveM();\n\n      // check for termination: x ?= 0\n      for (i=nz=0; i<x.limbs.length; i++) {\n        nz |= x.limbs[i];\n      }\n    } while(nz);\n\n    if (!y.equals(1)) {\n      throw (new sjcl.exception.invalid(\"inverseMod: p and x must be relatively prime\"));\n    }\n\n    return b;\n  },\n\n  /** this + that.  Does not normalize. */\n  add: function(that) {\n    return this.copy().addM(that);\n  },\n\n  /** this - that.  Does not normalize. */\n  sub: function(that) {\n    return this.copy().subM(that);\n  },\n\n  /** this * that.  Normalizes and reduces. */\n  mul: function(that) {\n    if (typeof(that) === \"number\") { that = new this._class(that); } else { that.normalize(); }\n    this.normalize();\n    var i, j, a = this.limbs, b = that.limbs, al = a.length, bl = b.length, out = new this._class(), c = out.limbs, ai, ii=this.maxMul;\n\n    for (i=0; i < this.limbs.length + that.limbs.length + 1; i++) {\n      c[i] = 0;\n    }\n    for (i=0; i<al; i++) {\n      ai = a[i];\n      for (j=0; j<bl; j++) {\n        c[i+j] += ai * b[j];\n      }\n\n      if (!--ii) {\n        ii = this.maxMul;\n        out.cnormalize();\n      }\n    }\n    return out.cnormalize().reduce();\n  },\n\n  /** this ^ 2.  Normalizes and reduces. */\n  square: function() {\n    return this.mul(this);\n  },\n\n  /** this ^ n.  Uses square-and-multiply.  Normalizes and reduces. */\n  power: function(l) {\n    l = new sjcl.bn(l).normalize().trim().limbs;\n    var i, j, out = new this._class(1), pow = this;\n\n    for (i=0; i<l.length; i++) {\n      for (j=0; j<this.radix; j++) {\n        if (l[i] & (1<<j)) { out = out.mul(pow); }\n        if (i == (l.length - 1) && l[i]>>(j + 1) == 0) { break; }\n\n        pow = pow.square();\n      }\n    }\n\n    return out;\n  },\n\n  /** this * that mod N */\n  mulmod: function(that, N) {\n    return this.mod(N).mul(that.mod(N)).mod(N);\n  },\n\n  /** this ^ x mod N */\n  powermod: function(x, N) {\n    x = new sjcl.bn(x);\n    N = new sjcl.bn(N);\n\n    // Jump to montpowermod if possible.\n    if ((N.limbs[0] & 1) == 1) {\n      var montOut = this.montpowermod(x, N);\n\n      if (montOut != false) { return montOut; } // else go to slow powermod\n    }\n\n    var i, j, l = x.normalize().trim().limbs, out = new this._class(1), pow = this;\n\n    for (i=0; i<l.length; i++) {\n      for (j=0; j<this.radix; j++) {\n        if (l[i] & (1<<j)) { out = out.mulmod(pow, N); }\n        if (i == (l.length - 1) && l[i]>>(j + 1) == 0) { break; }\n\n        pow = pow.mulmod(pow, N);\n      }\n    }\n\n    return out;\n  },\n\n  /** this ^ x mod N with Montomery reduction */\n  montpowermod: function(x, N) {\n    x = new sjcl.bn(x).normalize().trim();\n    N = new sjcl.bn(N);\n\n    var i, j,\n      radix = this.radix,\n      out = new this._class(1),\n      pow = this.copy();\n\n    // Generate R as a cap of N.\n    var R, s, wind, bitsize = x.bitLength();\n\n    R = new sjcl.bn({\n      limbs: N.copy().normalize().trim().limbs.map(function() { return 0; })\n    });\n\n    for (s = this.radix; s > 0; s--) {\n      if (((N.limbs[N.limbs.length - 1] >> s) & 1) == 1) {\n        R.limbs[R.limbs.length - 1] = 1 << s;\n        break;\n      }\n    }\n\n    // Calculate window size as a function of the exponent's size.\n    if (bitsize == 0) {\n      return this;\n    } else if (bitsize < 18)  {\n      wind = 1;\n    } else if (bitsize < 48)  {\n      wind = 3;\n    } else if (bitsize < 144) {\n      wind = 4;\n    } else if (bitsize < 768) {\n      wind = 5;\n    } else {\n      wind = 6;\n    }\n\n    // Find R' and N' such that R * R' - N * N' = 1.\n    var RR = R.copy(), NN = N.copy(), RP = new sjcl.bn(1), NP = new sjcl.bn(0), RT = R.copy();\n\n    while (RT.greaterEquals(1)) {\n      RT.halveM();\n\n      if ((RP.limbs[0] & 1) == 0) {\n        RP.halveM();\n        NP.halveM();\n      } else {\n        RP.addM(NN);\n        RP.halveM();\n\n        NP.halveM();\n        NP.addM(RR);\n      }\n    }\n\n    RP = RP.normalize();\n    NP = NP.normalize();\n\n    RR.doubleM();\n    var R2 = RR.mulmod(RR, N);\n\n    // Check whether the invariant holds.\n    // If it doesn't, we can't use Montgomery reduction on this modulus.\n    if (!RR.mul(RP).sub(N.mul(NP)).equals(1)) {\n      return false;\n    }\n\n    var montIn = function(c) { return montMul(c, R2); },\n    montMul = function(a, b) {\n      // Standard Montgomery reduction\n      var k, ab, right, abBar, mask = (1 << (s + 1)) - 1;\n\n      ab = a.mul(b);\n\n      right = ab.mul(NP);\n      right.limbs = right.limbs.slice(0, R.limbs.length);\n\n      if (right.limbs.length == R.limbs.length) {\n        right.limbs[R.limbs.length - 1] &= mask;\n      }\n\n      right = right.mul(N);\n\n      abBar = ab.add(right).normalize().trim();\n      abBar.limbs = abBar.limbs.slice(R.limbs.length - 1);\n\n      // Division.  Equivelent to calling *.halveM() s times.\n      for (k=0; k < abBar.limbs.length; k++) {\n        if (k > 0) {\n          abBar.limbs[k - 1] |= (abBar.limbs[k] & mask) << (radix - s - 1);\n        }\n\n        abBar.limbs[k] = abBar.limbs[k] >> (s + 1);\n      }\n\n      if (abBar.greaterEquals(N)) {\n        abBar.subM(N);\n      }\n\n      return abBar;\n    },\n    montOut = function(c) { return montMul(c, 1); };\n\n    pow = montIn(pow);\n    out = montIn(out);\n\n    // Sliding-Window Exponentiation (HAC 14.85)\n    var h, precomp = {}, cap = (1 << (wind - 1)) - 1;\n\n    precomp[1] = pow.copy();\n    precomp[2] = montMul(pow, pow);\n\n    for (h=1; h<=cap; h++) {\n      precomp[(2 * h) + 1] = montMul(precomp[(2 * h) - 1], precomp[2]);\n    }\n\n    var getBit = function(exp, i) { // Gets ith bit of exp.\n      var off = i % exp.radix;\n\n      return (exp.limbs[Math.floor(i / exp.radix)] & (1 << off)) >> off;\n    };\n\n    for (i = x.bitLength() - 1; i >= 0; ) {\n      if (getBit(x, i) == 0) {\n        // If the next bit is zero:\n        //   Square, move forward one bit.\n        out = montMul(out, out);\n        i = i - 1;\n      } else {\n        // If the next bit is one:\n        //   Find the longest sequence of bits after this one, less than `wind`\n        //   bits long, that ends with a 1.  Convert the sequence into an\n        //   integer and look up the pre-computed value to add.\n        var l = i - wind + 1;\n\n        while (getBit(x, l) == 0) {\n          l++;\n        }\n\n        var indx = 0;\n        for (j = l; j <= i; j++) {\n          indx += getBit(x, j) << (j - l);\n          out = montMul(out, out);\n        }\n\n        out = montMul(out, precomp[indx]);\n\n        i = l - 1;\n      }\n    }\n\n    return montOut(out);\n  },\n\n  trim: function() {\n    var l = this.limbs, p;\n    do {\n      p = l.pop();\n    } while (l.length && p === 0);\n    l.push(p);\n    return this;\n  },\n\n  /** Reduce mod a modulus.  Stubbed for subclassing. */\n  reduce: function() {\n    return this;\n  },\n\n  /** Reduce and normalize. */\n  fullReduce: function() {\n    return this.normalize();\n  },\n\n  /** Propagate carries. */\n  normalize: function() {\n    var carry=0, i, pv = this.placeVal, ipv = this.ipv, l, m, limbs = this.limbs, ll = limbs.length, mask = this.radixMask;\n    for (i=0; i < ll || (carry !== 0 && carry !== -1); i++) {\n      l = (limbs[i]||0) + carry;\n      m = limbs[i] = l & mask;\n      carry = (l-m)*ipv;\n    }\n    if (carry === -1) {\n      limbs[i-1] -= pv;\n    }\n    this.trim();\n    return this;\n  },\n\n  /** Constant-time normalize. Does not allocate additional space. */\n  cnormalize: function() {\n    var carry=0, i, ipv = this.ipv, l, m, limbs = this.limbs, ll = limbs.length, mask = this.radixMask;\n    for (i=0; i < ll-1; i++) {\n      l = limbs[i] + carry;\n      m = limbs[i] = l & mask;\n      carry = (l-m)*ipv;\n    }\n    limbs[i] += carry;\n    return this;\n  },\n\n  /** Serialize to a bit array */\n  toBits: function(len) {\n    this.fullReduce();\n    len = len || this.exponent || this.bitLength();\n    var i = Math.floor((len-1)/24), w=sjcl.bitArray, e = (len + 7 & -8) % this.radix || this.radix,\n        out = [w.partial(e, this.getLimb(i))];\n    for (i--; i >= 0; i--) {\n      out = w.concat(out, [w.partial(Math.min(this.radix,len), this.getLimb(i))]);\n      len -= this.radix;\n    }\n    return out;\n  },\n\n  /** Return the length in bits, rounded up to the nearest byte. */\n  bitLength: function() {\n    this.fullReduce();\n    var out = this.radix * (this.limbs.length - 1),\n        b = this.limbs[this.limbs.length - 1];\n    for (; b; b >>>= 1) {\n      out ++;\n    }\n    return out+7 & -8;\n  }\n};\n\n/** @memberOf sjcl.bn\n* @this { sjcl.bn }\n*/\nsjcl.bn.fromBits = function(bits) {\n  var Class = this, out = new Class(), words=[], w=sjcl.bitArray, t = this.prototype,\n      l = Math.min(this.bitLength || 0x100000000, w.bitLength(bits)), e = l % t.radix || t.radix;\n\n  words[0] = w.extract(bits, 0, e);\n  for (; e < l; e += t.radix) {\n    words.unshift(w.extract(bits, e, t.radix));\n  }\n\n  out.limbs = words;\n  return out;\n};\n\n\n\nsjcl.bn.prototype.ipv = 1 / (sjcl.bn.prototype.placeVal = Math.pow(2,sjcl.bn.prototype.radix));\nsjcl.bn.prototype.radixMask = (1 << sjcl.bn.prototype.radix) - 1;\n\n/**\n * Creates a new subclass of bn, based on reduction modulo a pseudo-Mersenne prime,\n * i.e. a prime of the form 2^e + sum(a * 2^b),where the sum is negative and sparse.\n */\nsjcl.bn.pseudoMersennePrime = function(exponent, coeff) {\n  /** @constructor\n  * @private\n  */\n  function p(it) {\n    this.initWith(it);\n    /*if (this.limbs[this.modOffset]) {\n      this.reduce();\n    }*/\n  }\n\n  var ppr = p.prototype = new sjcl.bn(), i, tmp, mo;\n  mo = ppr.modOffset = Math.ceil(tmp = exponent / ppr.radix);\n  ppr.exponent = exponent;\n  ppr.offset = [];\n  ppr.factor = [];\n  ppr.minOffset = mo;\n  ppr.fullMask = 0;\n  ppr.fullOffset = [];\n  ppr.fullFactor = [];\n  ppr.modulus = p.modulus = new sjcl.bn(Math.pow(2,exponent));\n\n  ppr.fullMask = 0|-Math.pow(2, exponent % ppr.radix);\n\n  for (i=0; i<coeff.length; i++) {\n    ppr.offset[i] = Math.floor(coeff[i][0] / ppr.radix - tmp);\n    ppr.fullOffset[i] = Math.floor(coeff[i][0] / ppr.radix ) - mo + 1;\n    ppr.factor[i] = coeff[i][1] * Math.pow(1/2, exponent - coeff[i][0] + ppr.offset[i] * ppr.radix);\n    ppr.fullFactor[i] = coeff[i][1] * Math.pow(1/2, exponent - coeff[i][0] + ppr.fullOffset[i] * ppr.radix);\n    ppr.modulus.addM(new sjcl.bn(Math.pow(2,coeff[i][0])*coeff[i][1]));\n    ppr.minOffset = Math.min(ppr.minOffset, -ppr.offset[i]); // conservative\n  }\n  ppr._class = p;\n  ppr.modulus.cnormalize();\n\n  /** Approximate reduction mod p.  May leave a number which is negative or slightly larger than p.\n   * @memberof sjcl.bn\n   * @this { sjcl.bn }\n   */\n  ppr.reduce = function() {\n    var i, k, l, mo = this.modOffset, limbs = this.limbs, off = this.offset, ol = this.offset.length, fac = this.factor, ll;\n\n    i = this.minOffset;\n    while (limbs.length > mo) {\n      l = limbs.pop();\n      ll = limbs.length;\n      for (k=0; k<ol; k++) {\n        limbs[ll+off[k]] -= fac[k] * l;\n      }\n\n      i--;\n      if (!i) {\n        limbs.push(0);\n        this.cnormalize();\n        i = this.minOffset;\n      }\n    }\n    this.cnormalize();\n\n    return this;\n  };\n\n  /** @memberof sjcl.bn\n  * @this { sjcl.bn }\n  */\n  ppr._strongReduce = (ppr.fullMask === -1) ? ppr.reduce : function() {\n    var limbs = this.limbs, i = limbs.length - 1, k, l;\n    this.reduce();\n    if (i === this.modOffset - 1) {\n      l = limbs[i] & this.fullMask;\n      limbs[i] -= l;\n      for (k=0; k<this.fullOffset.length; k++) {\n        limbs[i+this.fullOffset[k]] -= this.fullFactor[k] * l;\n      }\n      this.normalize();\n    }\n  };\n\n  /** mostly constant-time, very expensive full reduction.\n   * @memberof sjcl.bn\n   * @this { sjcl.bn }\n   */\n  ppr.fullReduce = function() {\n    var greater, i;\n    // massively above the modulus, may be negative\n\n    this._strongReduce();\n    // less than twice the modulus, may be negative\n\n    this.addM(this.modulus);\n    this.addM(this.modulus);\n    this.normalize();\n    // probably 2-3x the modulus\n\n    this._strongReduce();\n    // less than the power of 2.  still may be more than\n    // the modulus\n\n    // HACK: pad out to this length\n    for (i=this.limbs.length; i<this.modOffset; i++) {\n      this.limbs[i] = 0;\n    }\n\n    // constant-time subtract modulus\n    greater = this.greaterEquals(this.modulus);\n    for (i=0; i<this.limbs.length; i++) {\n      this.limbs[i] -= this.modulus.limbs[i] * greater;\n    }\n    this.cnormalize();\n\n    return this;\n  };\n\n\n  /** @memberof sjcl.bn\n  * @this { sjcl.bn }\n  */\n  ppr.inverse = function() {\n    return (this.power(this.modulus.sub(2)));\n  };\n\n  p.fromBits = sjcl.bn.fromBits;\n\n  return p;\n};\n\n// a small Mersenne prime\nvar sbp = sjcl.bn.pseudoMersennePrime;\nsjcl.bn.prime = {\n  p127: sbp(127, [[0,-1]]),\n\n  // Bernstein's prime for Curve25519\n  p25519: sbp(255, [[0,-19]]),\n\n  // Koblitz primes\n  p192k: sbp(192, [[32,-1],[12,-1],[8,-1],[7,-1],[6,-1],[3,-1],[0,-1]]),\n  p224k: sbp(224, [[32,-1],[12,-1],[11,-1],[9,-1],[7,-1],[4,-1],[1,-1],[0,-1]]),\n  p256k: sbp(256, [[32,-1],[9,-1],[8,-1],[7,-1],[6,-1],[4,-1],[0,-1]]),\n\n  // NIST primes\n  p192: sbp(192, [[0,-1],[64,-1]]),\n  p224: sbp(224, [[0,1],[96,-1]]),\n  p256: sbp(256, [[0,-1],[96,1],[192,1],[224,-1]]),\n  p384: sbp(384, [[0,-1],[32,1],[96,-1],[128,-1]]),\n  p521: sbp(521, [[0,-1]])\n};\n\nsjcl.bn.random = function(modulus, paranoia) {\n  if (typeof modulus !== \"object\") { modulus = new sjcl.bn(modulus); }\n  var words, i, l = modulus.limbs.length, m = modulus.limbs[l-1]+1, out = new sjcl.bn();\n  while (true) {\n    // get a sequence whose first digits make sense\n    do {\n      words = sjcl.random.randomWords(l, paranoia);\n      if (words[l-1] < 0) { words[l-1] += 0x100000000; }\n    } while (Math.floor(words[l-1] / m) === Math.floor(0x100000000 / m));\n    words[l-1] %= m;\n\n    // mask off all the limbs\n    for (i=0; i<l-1; i++) {\n      words[i] &= modulus.radixMask;\n    }\n\n    // check the rest of the digitssj\n    out.limbs = words;\n    if (!out.greaterEquals(modulus)) {\n      return out;\n    }\n  }\n};\n/**\n * base class for all ecc operations.\n * @namespace\n */\nsjcl.ecc = {};\n\n/**\n * Represents a point on a curve in affine coordinates.\n * @constructor\n * @param {sjcl.ecc.curve} curve The curve that this point lies on.\n * @param {bigInt} x The x coordinate.\n * @param {bigInt} y The y coordinate.\n */\nsjcl.ecc.point = function(curve,x,y) {\n  if (x === undefined) {\n    this.isIdentity = true;\n  } else {\n    if (x instanceof sjcl.bn) {\n      x = new curve.field(x);\n    }\n    if (y instanceof sjcl.bn) {\n      y = new curve.field(y);\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.isIdentity = false;\n  }\n  this.curve = curve;\n};\n\n\n\nsjcl.ecc.point.prototype = {\n  toJac: function() {\n    return new sjcl.ecc.pointJac(this.curve, this.x, this.y, new this.curve.field(1));\n  },\n\n  mult: function(k) {\n    return this.toJac().mult(k, this).toAffine();\n  },\n\n  /**\n   * Multiply this point by k, added to affine2*k2, and return the answer in Jacobian coordinates.\n   * @param {bigInt} k The coefficient to multiply this by.\n   * @param {bigInt} k2 The coefficient to multiply affine2 this by.\n   * @param {sjcl.ecc.point} affine The other point in affine coordinates.\n   * @return {sjcl.ecc.pointJac} The result of the multiplication and addition, in Jacobian coordinates.\n   */\n  mult2: function(k, k2, affine2) {\n    return this.toJac().mult2(k, this, k2, affine2).toAffine();\n  },\n\n  multiples: function() {\n    var m, i, j;\n    if (this._multiples === undefined) {\n      j = this.toJac().doubl();\n      m = [j];\n      for (i=3; i<16; i++) {\n        j = j.add(this);\n        m.push(j);\n      }\n      this._multiples = [new sjcl.ecc.point(this.curve), this].concat(sjcl.ecc.pointJac.toAffineMultiple(m));\n    }\n    return this._multiples;\n  },\n\n  negate: function() {\n    var newY = new this.curve.field(0).sub(this.y).normalize().reduce();\n    return new sjcl.ecc.point(this.curve, this.x, newY);\n  },\n\n  isValid: function() {\n    return this.y.square().equals(this.curve.b.add(this.x.mul(this.curve.a.add(this.x.square()))));\n  },\n\n  toBits: function() {\n    return sjcl.bitArray.concat(this.x.toBits(), this.y.toBits());\n  }\n};\n\n/**\n * Represents a point on a curve in Jacobian coordinates. Coordinates can be specified as bigInts or strings (which\n * will be converted to bigInts).\n *\n * @constructor\n * @param {bigInt/string} x The x coordinate.\n * @param {bigInt/string} y The y coordinate.\n * @param {bigInt/string} z The z coordinate.\n * @param {sjcl.ecc.curve} curve The curve that this point lies on.\n */\nsjcl.ecc.pointJac = function(curve, x, y, z) {\n  if (x === undefined) {\n    this.isIdentity = true;\n  } else {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.isIdentity = false;\n  }\n  this.curve = curve;\n};\n\n/**\n * Returns points converted to affine coordinates.\n * @param {Array} points An array of {sjcl.ecc.pointJac} to convert.\n * @return {Array} An array of {sjcl.ecc.point} that were converted.\n */\nsjcl.ecc.pointJac.toAffineMultiple = function (points) {\n  var i=0, j, ret = new Array(points.length), p, tmp, z, zi, zi2, curve;\n  for (; i<points.length; i++) {\n    p = points[i];\n    if (curve != p.curve) {\n      // if not first time\n      if (curve) {\n        // curve mismatch so just convert points individually\n        for (i=0; i<points.length; i++) {\n          ret[i] = points[i].toAffine();\n        }\n        return ret;\n      } else {\n        curve = p.curve;\n      }\n    }\n    // multiply all z coordinates\n    if (!p.isIdentity && !p.z.equals(0)) {\n      if (tmp) {\n        tmp.push(z);\n        z = z.mul(p.z);\n      } else {\n        z = p.z;\n        tmp = [];\n      }\n    }\n  }\n  // if any z coordinates invert\n  if (tmp) {\n    // z is now the product of all z coordinates inverted\n    z = z.inverse();\n    j = tmp.length-1;\n  }\n  for (i--; i>=0; i--) {\n    p = points[i];\n    if (p.isIdentity || p.z.equals(0)) {\n      ret[i] = new sjcl.ecc.point(p.curve);\n    } else {\n      // if not last\n      if (j >= 0) {\n        // remove all other inverted z coordinates from product of inverses\n        // zi is now inverse of p.z\n        zi = z.mul(tmp[j]);\n        // remove the inverse of p.z from product of inverses\n        z = z.mul(p.z);\n        j--;\n      } else {\n        zi = z;\n      }\n      zi2 = zi.square();\n      ret[i] = new sjcl.ecc.point(p.curve, p.x.mul(zi2).fullReduce(), p.y.mul(zi2.mul(zi)).fullReduce());\n    }\n  }\n  return ret;\n};\n\nsjcl.ecc.pointJac.prototype = {\n  /**\n   * Adds S and T and returns the result in Jacobian coordinates. Note that S must be in Jacobian coordinates and T must be in affine coordinates.\n   * @param {sjcl.ecc.pointJac} S One of the points to add, in Jacobian coordinates.\n   * @param {sjcl.ecc.point} T The other point to add, in affine coordinates.\n   * @return {sjcl.ecc.pointJac} The sum of the two points, in Jacobian coordinates.\n   */\n  add: function(T) {\n    var S = this, sz2, c, d, c2, x1, x2, x, y1, y2, y, z;\n    if (S.curve !== T.curve) {\n      throw new sjcl.exception.invalid(\"sjcl.ecc.add(): Points must be on the same curve to add them!\");\n    }\n\n    if (S.isIdentity) {\n      return T.toJac();\n    } else if (T.isIdentity) {\n      return S;\n    }\n\n    sz2 = S.z.square();\n    c = T.x.mul(sz2).subM(S.x);\n\n    if (c.equals(0)) {\n      if (S.y.equals(T.y.mul(sz2.mul(S.z)))) {\n        // same point\n        return S.doubl();\n      } else {\n        // inverses\n        return new sjcl.ecc.pointJac(S.curve);\n      }\n    }\n\n    d = T.y.mul(sz2.mul(S.z)).subM(S.y);\n    c2 = c.square();\n\n    x1 = d.square();\n    x2 = c.square().mul(c).addM( S.x.add(S.x).mul(c2) );\n    x  = x1.subM(x2);\n\n    y1 = S.x.mul(c2).subM(x).mul(d);\n    y2 = S.y.mul(c.square().mul(c));\n    y  = y1.subM(y2);\n\n    z  = S.z.mul(c);\n\n    return new sjcl.ecc.pointJac(this.curve,x,y,z);\n  },\n\n  /**\n   * doubles this point.\n   * @return {sjcl.ecc.pointJac} The doubled point.\n   */\n  doubl: function() {\n    if (this.isIdentity) { return this; }\n\n    var\n      y2 = this.y.square(),\n      a  = y2.mul(this.x.mul(4)),\n      b  = y2.square().mul(8),\n      z2 = this.z.square(),\n      c  = this.curve.a.toString() == (new sjcl.bn(-3)).toString() ?\n                this.x.sub(z2).mul(3).mul(this.x.add(z2)) :\n                this.x.square().mul(3).add(z2.square().mul(this.curve.a)),\n      x  = c.square().subM(a).subM(a),\n      y  = a.sub(x).mul(c).subM(b),\n      z  = this.y.add(this.y).mul(this.z);\n    return new sjcl.ecc.pointJac(this.curve, x, y, z);\n  },\n\n  /**\n   * Returns a copy of this point converted to affine coordinates.\n   * @return {sjcl.ecc.point} The converted point.\n   */\n  toAffine: function() {\n    if (this.isIdentity || this.z.equals(0)) {\n      return new sjcl.ecc.point(this.curve);\n    }\n    var zi = this.z.inverse(), zi2 = zi.square();\n    return new sjcl.ecc.point(this.curve, this.x.mul(zi2).fullReduce(), this.y.mul(zi2.mul(zi)).fullReduce());\n  },\n\n  /**\n   * Multiply this point by k and return the answer in Jacobian coordinates.\n   * @param {bigInt} k The coefficient to multiply by.\n   * @param {sjcl.ecc.point} affine This point in affine coordinates.\n   * @return {sjcl.ecc.pointJac} The result of the multiplication, in Jacobian coordinates.\n   */\n  mult: function(k, affine) {\n    if (typeof(k) === \"number\") {\n      k = [k];\n    } else if (k.limbs !== undefined) {\n      k = k.normalize().limbs;\n    }\n\n    var i, j, out = new sjcl.ecc.point(this.curve).toJac(), multiples = affine.multiples();\n\n    for (i=k.length-1; i>=0; i--) {\n      for (j=sjcl.bn.prototype.radix-4; j>=0; j-=4) {\n        out = out.doubl().doubl().doubl().doubl().add(multiples[k[i]>>j & 0xF]);\n      }\n    }\n\n    return out;\n  },\n\n  /**\n   * Multiply this point by k, added to affine2*k2, and return the answer in Jacobian coordinates.\n   * @param {bigInt} k The coefficient to multiply this by.\n   * @param {sjcl.ecc.point} affine This point in affine coordinates.\n   * @param {bigInt} k2 The coefficient to multiply affine2 this by.\n   * @param {sjcl.ecc.point} affine The other point in affine coordinates.\n   * @return {sjcl.ecc.pointJac} The result of the multiplication and addition, in Jacobian coordinates.\n   */\n  mult2: function(k1, affine, k2, affine2) {\n    if (typeof(k1) === \"number\") {\n      k1 = [k1];\n    } else if (k1.limbs !== undefined) {\n      k1 = k1.normalize().limbs;\n    }\n\n    if (typeof(k2) === \"number\") {\n      k2 = [k2];\n    } else if (k2.limbs !== undefined) {\n      k2 = k2.normalize().limbs;\n    }\n\n    var i, j, out = new sjcl.ecc.point(this.curve).toJac(), m1 = affine.multiples(),\n        m2 = affine2.multiples(), l1, l2;\n\n    for (i=Math.max(k1.length,k2.length)-1; i>=0; i--) {\n      l1 = k1[i] | 0;\n      l2 = k2[i] | 0;\n      for (j=sjcl.bn.prototype.radix-4; j>=0; j-=4) {\n        out = out.doubl().doubl().doubl().doubl().add(m1[l1>>j & 0xF]).add(m2[l2>>j & 0xF]);\n      }\n    }\n\n    return out;\n  },\n\n  negate: function() {\n    return this.toAffine().negate().toJac();\n  },\n\n  isValid: function() {\n    var z2 = this.z.square(), z4 = z2.square(), z6 = z4.mul(z2);\n    return this.y.square().equals(\n             this.curve.b.mul(z6).add(this.x.mul(\n               this.curve.a.mul(z4).add(this.x.square()))));\n  }\n};\n\n/**\n * Construct an elliptic curve. Most users will not use this and instead start with one of the NIST curves defined below.\n *\n * @constructor\n * @param {bigInt} p The prime modulus.\n * @param {bigInt} r The prime order of the curve.\n * @param {bigInt} a The constant a in the equation of the curve y^2 = x^3 + ax + b (for NIST curves, a is always -3).\n * @param {bigInt} x The x coordinate of a base point of the curve.\n * @param {bigInt} y The y coordinate of a base point of the curve.\n */\nsjcl.ecc.curve = function(Field, r, a, b, x, y) {\n  this.field = Field;\n  this.r = new sjcl.bn(r);\n  this.a = new Field(a);\n  this.b = new Field(b);\n  this.G = new sjcl.ecc.point(this, new Field(x), new Field(y));\n};\n\nsjcl.ecc.curve.prototype.fromBits = function (bits) {\n  var w = sjcl.bitArray, l = this.field.prototype.exponent + 7 & -8,\n      p = new sjcl.ecc.point(this, this.field.fromBits(w.bitSlice(bits, 0, l)),\n                             this.field.fromBits(w.bitSlice(bits, l, 2*l)));\n  if (!p.isValid()) {\n    throw new sjcl.exception.corrupt(\"not on the curve!\");\n  }\n  return p;\n};\n\nsjcl.ecc.curves = {\n  c192: new sjcl.ecc.curve(\n    sjcl.bn.prime.p192,\n    \"0xffffffffffffffffffffffff99def836146bc9b1b4d22831\",\n    -3,\n    \"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1\",\n    \"0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012\",\n    \"0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811\"),\n\n  c224: new sjcl.ecc.curve(\n    sjcl.bn.prime.p224,\n    \"0xffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d\",\n    -3,\n    \"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4\",\n    \"0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21\",\n    \"0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34\"),\n\n  c256: new sjcl.ecc.curve(\n    sjcl.bn.prime.p256,\n    \"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\",\n    -3,\n    \"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\",\n    \"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\",\n    \"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\"),\n\n  c384: new sjcl.ecc.curve(\n    sjcl.bn.prime.p384,\n    \"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973\",\n    -3,\n    \"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef\",\n    \"0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7\",\n    \"0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\"),\n    \n  c521: new sjcl.ecc.curve(\n    sjcl.bn.prime.p521,\n    \"0x1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\",\n    -3,\n    \"0x051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\",\n    \"0xC6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\",\n    \"0x11839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650\"),\n\n  k192: new sjcl.ecc.curve(\n    sjcl.bn.prime.p192k,\n    \"0xfffffffffffffffffffffffe26f2fc170f69466a74defd8d\",\n    0,\n    3,\n    \"0xdb4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d\",\n    \"0x9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d\"),\n\n  k224: new sjcl.ecc.curve(\n    sjcl.bn.prime.p224k,\n    \"0x010000000000000000000000000001dce8d2ec6184caf0a971769fb1f7\",\n    0,\n    5,\n    \"0xa1455b334df099df30fc28a169a467e9e47075a90f7e650eb6b7a45c\",\n    \"0x7e089fed7fba344282cafbd6f7e319f7c0b0bd59e2ca4bdb556d61a5\"),\n\n  k256: new sjcl.ecc.curve(\n    sjcl.bn.prime.p256k,\n    \"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\",\n    0,\n    7,\n    \"0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\",\n    \"0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8\")\n\n};\n\nsjcl.ecc.curveName = function (curve) {\n  var curcurve;\n  for (curcurve in sjcl.ecc.curves) {\n    if (sjcl.ecc.curves.hasOwnProperty(curcurve)) {\n      if (sjcl.ecc.curves[curcurve] === curve) {\n        return curcurve;\n      }\n    }\n  }\n\n  throw new sjcl.exception.invalid(\"no such curve\");\n};\n\nsjcl.ecc.deserialize = function (key) {\n  var types = [\"elGamal\", \"ecdsa\"];\n\n  if (!key || !key.curve || !sjcl.ecc.curves[key.curve]) { throw new sjcl.exception.invalid(\"invalid serialization\"); }\n  if (types.indexOf(key.type) === -1) { throw new sjcl.exception.invalid(\"invalid type\"); }\n\n  var curve = sjcl.ecc.curves[key.curve];\n\n  if (key.secretKey) {\n    if (!key.exponent) { throw new sjcl.exception.invalid(\"invalid exponent\"); }\n    var exponent = new sjcl.bn(key.exponent);\n    return new sjcl.ecc[key.type].secretKey(curve, exponent);\n  } else {\n    if (!key.point) { throw new sjcl.exception.invalid(\"invalid point\"); }\n    \n    var point = curve.fromBits(sjcl.codec.hex.toBits(key.point));\n    return new sjcl.ecc[key.type].publicKey(curve, point);\n  }\n};\n\n/** our basicKey classes\n*/\nsjcl.ecc.basicKey = {\n  /** ecc publicKey.\n  * @constructor\n  * @param {curve} curve the elliptic curve\n  * @param {point} point the point on the curve\n  */\n  publicKey: function(curve, point) {\n    this._curve = curve;\n    this._curveBitLength = curve.r.bitLength();\n    if (point instanceof Array) {\n      this._point = curve.fromBits(point);\n    } else {\n      this._point = point;\n    }\n\n    this.serialize = function () {\n      var curveName = sjcl.ecc.curveName(curve);\n      return {\n        type: this.getType(),\n        secretKey: false,\n        point: sjcl.codec.hex.fromBits(this._point.toBits()),\n        curve: curveName\n      };\n    };\n\n    /** get this keys point data\n    * @return x and y as bitArrays\n    */\n    this.get = function() {\n      var pointbits = this._point.toBits();\n      var len = sjcl.bitArray.bitLength(pointbits);\n      var x = sjcl.bitArray.bitSlice(pointbits, 0, len/2);\n      var y = sjcl.bitArray.bitSlice(pointbits, len/2);\n      return { x: x, y: y };\n    };\n  },\n\n  /** ecc secretKey\n  * @constructor\n  * @param {curve} curve the elliptic curve\n  * @param exponent\n  */\n  secretKey: function(curve, exponent) {\n    this._curve = curve;\n    this._curveBitLength = curve.r.bitLength();\n    this._exponent = exponent;\n\n    this.serialize = function () {\n      var exponent = this.get();\n      var curveName = sjcl.ecc.curveName(curve);\n      return {\n        type: this.getType(),\n        secretKey: true,\n        exponent: sjcl.codec.hex.fromBits(exponent),\n        curve: curveName\n      };\n    };\n\n    /** get this keys exponent data\n    * @return {bitArray} exponent\n    */\n    this.get = function () {\n      return this._exponent.toBits();\n    };\n  }\n};\n\n/** @private */\nsjcl.ecc.basicKey.generateKeys = function(cn) {\n  return function generateKeys(curve, paranoia, sec) {\n    curve = curve || 256;\n\n    if (typeof curve === \"number\") {\n      curve = sjcl.ecc.curves['c'+curve];\n      if (curve === undefined) {\n        throw new sjcl.exception.invalid(\"no such curve\");\n      }\n    }\n    sec = sec || sjcl.bn.random(curve.r, paranoia);\n\n    var pub = curve.G.mult(sec);\n    return { pub: new sjcl.ecc[cn].publicKey(curve, pub),\n             sec: new sjcl.ecc[cn].secretKey(curve, sec) };\n  };\n};\n\n/** elGamal keys */\nsjcl.ecc.elGamal = {\n  /** generate keys\n  * @function\n  * @param curve\n  * @param {int} paranoia Paranoia for generation (default 6)\n  * @param {secretKey} sec secret Key to use. used to get the publicKey for ones secretKey\n  */\n  generateKeys: sjcl.ecc.basicKey.generateKeys(\"elGamal\"),\n  /** elGamal publicKey.\n  * @constructor\n  * @augments sjcl.ecc.basicKey.publicKey\n  */\n  publicKey: function (curve, point) {\n    sjcl.ecc.basicKey.publicKey.apply(this, arguments);\n  },\n  /** elGamal secretKey\n  * @constructor\n  * @augments sjcl.ecc.basicKey.secretKey\n  */\n  secretKey: function (curve, exponent) {\n    sjcl.ecc.basicKey.secretKey.apply(this, arguments);\n  }\n};\n\nsjcl.ecc.elGamal.publicKey.prototype = {\n  /** Kem function of elGamal Public Key\n  * @param paranoia paranoia to use for randomization.\n  * @return {object} key and tag. unkem(tag) with the corresponding secret key results in the key returned.\n  */\n  kem: function(paranoia) {\n    var sec = sjcl.bn.random(this._curve.r, paranoia),\n        tag = this._curve.G.mult(sec).toBits(),\n        key = sjcl.hash.sha256.hash(this._point.mult(sec).toBits());\n    return { key: key, tag: tag };\n  },\n  \n  getType: function() {\n    return \"elGamal\";\n  }\n};\n\nsjcl.ecc.elGamal.secretKey.prototype = {\n  /** UnKem function of elGamal Secret Key\n  * @param {bitArray} tag The Tag to decrypt.\n  * @return {bitArray} decrypted key.\n  */\n  unkem: function(tag) {\n    return sjcl.hash.sha256.hash(this._curve.fromBits(tag).mult(this._exponent).toBits());\n  },\n\n  /** Diffie-Hellmann function\n  * @param {elGamal.publicKey} pk The Public Key to do Diffie-Hellmann with\n  * @return {bitArray} diffie-hellmann result for this key combination.\n  */\n  dh: function(pk) {\n    return sjcl.hash.sha256.hash(pk._point.mult(this._exponent).toBits());\n  },\n\n  /** Diffie-Hellmann function, compatible with Java generateSecret\n  * @param {elGamal.publicKey} pk The Public Key to do Diffie-Hellmann with\n  * @return {bitArray} undigested X value, diffie-hellmann result for this key combination,\n  * compatible with Java generateSecret().\n  */\n  dhJavaEc: function(pk) {\n    return pk._point.mult(this._exponent).x.toBits();\n  }, \n\n  getType: function() {\n    return \"elGamal\";\n  }\n};\n\n/** ecdsa keys */\nsjcl.ecc.ecdsa = {\n  /** generate keys\n  * @function\n  * @param curve\n  * @param {int} paranoia Paranoia for generation (default 6)\n  * @param {secretKey} sec secret Key to use. used to get the publicKey for ones secretKey\n  */\n  generateKeys: sjcl.ecc.basicKey.generateKeys(\"ecdsa\")\n};\n\n/** ecdsa publicKey.\n* @constructor\n* @augments sjcl.ecc.basicKey.publicKey\n*/\nsjcl.ecc.ecdsa.publicKey = function (curve, point) {\n  sjcl.ecc.basicKey.publicKey.apply(this, arguments);\n};\n\n/** specific functions for ecdsa publicKey. */\nsjcl.ecc.ecdsa.publicKey.prototype = {\n  /** Diffie-Hellmann function\n  * @param {bitArray} hash hash to verify.\n  * @param {bitArray} rs signature bitArray.\n  * @param {boolean}  fakeLegacyVersion use old legacy version\n  */\n  verify: function(hash, rs, fakeLegacyVersion) {\n    if (sjcl.bitArray.bitLength(hash) > this._curveBitLength) {\n      hash = sjcl.bitArray.clamp(hash, this._curveBitLength);\n    }\n    var w = sjcl.bitArray,\n        R = this._curve.r,\n        l = this._curveBitLength,\n        r = sjcl.bn.fromBits(w.bitSlice(rs,0,l)),\n        ss = sjcl.bn.fromBits(w.bitSlice(rs,l,2*l)),\n        s = fakeLegacyVersion ? ss : ss.inverseMod(R),\n        hG = sjcl.bn.fromBits(hash).mul(s).mod(R),\n        hA = r.mul(s).mod(R),\n        r2 = this._curve.G.mult2(hG, hA, this._point).x;\n    if (r.equals(0) || ss.equals(0) || r.greaterEquals(R) || ss.greaterEquals(R) || !r2.equals(r)) {\n      if (fakeLegacyVersion === undefined) {\n        return this.verify(hash, rs, true);\n      } else {\n        throw (new sjcl.exception.corrupt(\"signature didn't check out\"));\n      }\n    }\n    return true;\n  },\n\n  getType: function() {\n    return \"ecdsa\";\n  }\n};\n\n/** ecdsa secretKey\n* @constructor\n* @augments sjcl.ecc.basicKey.publicKey\n*/\nsjcl.ecc.ecdsa.secretKey = function (curve, exponent) {\n  sjcl.ecc.basicKey.secretKey.apply(this, arguments);\n};\n\n/** specific functions for ecdsa secretKey. */\nsjcl.ecc.ecdsa.secretKey.prototype = {\n  /** Diffie-Hellmann function\n  * @param {bitArray} hash hash to sign.\n  * @param {int} paranoia paranoia for random number generation\n  * @param {boolean} fakeLegacyVersion use old legacy version\n  */\n  sign: function(hash, paranoia, fakeLegacyVersion, fixedKForTesting) {\n    if (sjcl.bitArray.bitLength(hash) > this._curveBitLength) {\n      hash = sjcl.bitArray.clamp(hash, this._curveBitLength);\n    }\n    var R  = this._curve.r,\n        l  = R.bitLength(),\n        k  = fixedKForTesting || sjcl.bn.random(R.sub(1), paranoia).add(1),\n        r  = this._curve.G.mult(k).x.mod(R),\n        ss = sjcl.bn.fromBits(hash).add(r.mul(this._exponent)),\n        s  = fakeLegacyVersion ? ss.inverseMod(R).mul(k).mod(R)\n             : ss.mul(k.inverseMod(R)).mod(R);\n    return sjcl.bitArray.concat(r.toBits(l), s.toBits(l));\n  },\n\n  getType: function() {\n    return \"ecdsa\";\n  }\n};\n\n"],"names":[],"version":3,"file":"smarthub.2fd0bd96.js.map","sourceRoot":"/__parcel_source_root/"}